import{r as b,a as Nr,u as Ne,b as Ut,L as $e,d as Sr,e as Cr,f as Pe,R as Er,B as Ar}from"./vendor-LWVNgZio.js";import{S as Rr,n as Ue}from"./nlp-C_FbErzE.js";import{R as ot,P as Tr,a as Or,C as it,T as lt,B as Dr,b as Pr,X as Mr,Y as Ir,c as Lr}from"./charts-BTWe1mfJ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}})();var Bt={exports:{}},Se={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fr=b,_r=Symbol.for("react.element"),$r=Symbol.for("react.fragment"),Ur=Object.prototype.hasOwnProperty,Br=Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qr={key:!0,ref:!0,__self:!0,__source:!0};function qt(e,t,a){var s,n={},o=null,i=null;a!==void 0&&(o=""+a),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)Ur.call(t,s)&&!qr.hasOwnProperty(s)&&(n[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)n[s]===void 0&&(n[s]=t[s]);return{$$typeof:_r,type:e,key:o,ref:i,props:n,_owner:Br.current}}Se.Fragment=$r;Se.jsx=qt;Se.jsxs=qt;Bt.exports=Se;var r=Bt.exports,Be={},ct=Nr;Be.createRoot=ct.createRoot,Be.hydrateRoot=ct.hydrateRoot;const dt="yt-analytics-theme";function zr(){const[e,t]=b.useState(()=>{const s=localStorage.getItem(dt);return s!==null?s==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});return b.useEffect(()=>{const s=document.documentElement;e?s.classList.add("dark"):s.classList.remove("dark"),localStorage.setItem(dt,e?"dark":"light")},[e]),{darkMode:e,toggleTheme:()=>t(s=>!s)}}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),C=(e,t)=>{const a=b.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:l="",children:u,...h},c)=>b.createElement("svg",{ref:c,...Hr,width:n,height:n,stroke:s,strokeWidth:i?Number(o)*24/Number(n):o,className:["lucide",`lucide-${Vr(e)}`,l].join(" "),...h},[...t.map(([x,d])=>b.createElement(x,d)),...Array.isArray(u)?u:[u]]));return a.displayName=`${e}`,a};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=C("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=C("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=C("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=C("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=C("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=C("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=C("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=C("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=C("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=C("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=C("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=C("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=C("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=C("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=C("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=C("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=C("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=C("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=C("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=C("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=C("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=C("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=C("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=C("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=C("SmilePlus",[["path",{d:"M22 11v1a10 10 0 1 1-9-10",key:"ew0xw9"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}],["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=C("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=C("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=C("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=C("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=C("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=C("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=C("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=C("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=C("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=C("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);function Gt(e,t){return function(){return e.apply(t,arguments)}}const{toString:ls}=Object.prototype,{getPrototypeOf:Qe}=Object,{iterator:Ee,toStringTag:Zt}=Symbol,Ae=(e=>t=>{const a=ls.call(t);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),H=e=>(e=e.toLowerCase(),t=>Ae(t)===e),Re=e=>t=>typeof t===e,{isArray:se}=Array,ee=Re("undefined");function le(e){return e!==null&&!ee(e)&&e.constructor!==null&&!ee(e.constructor)&&_(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Xt=H("ArrayBuffer");function cs(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Xt(e.buffer),t}const ds=Re("string"),_=Re("function"),Qt=Re("number"),ce=e=>e!==null&&typeof e=="object",us=e=>e===!0||e===!1,be=e=>{if(Ae(e)!=="object")return!1;const t=Qe(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Zt in e)&&!(Ee in e)},ms=e=>{if(!ce(e)||le(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},hs=H("Date"),gs=H("File"),xs=H("Blob"),fs=H("FileList"),ps=e=>ce(e)&&_(e.pipe),ys=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||_(e.append)&&((t=Ae(e))==="formdata"||t==="object"&&_(e.toString)&&e.toString()==="[object FormData]"))},bs=H("URLSearchParams"),[ws,vs,ks,js]=["ReadableStream","Request","Response","Headers"].map(H),Ns=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function de(e,t,{allOwnKeys:a=!1}={}){if(e===null||typeof e>"u")return;let s,n;if(typeof e!="object"&&(e=[e]),se(e))for(s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else{if(le(e))return;const o=a?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(s=0;s<i;s++)l=o[s],t.call(null,e[l],l,e)}}function er(e,t){if(le(e))return null;t=t.toLowerCase();const a=Object.keys(e);let s=a.length,n;for(;s-- >0;)if(n=a[s],t===n.toLowerCase())return n;return null}const J=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tr=e=>!ee(e)&&e!==J;function He(){const{caseless:e,skipUndefined:t}=tr(this)&&this||{},a={},s=(n,o)=>{if(o==="__proto__"||o==="constructor"||o==="prototype")return;const i=e&&er(a,o)||o;be(a[i])&&be(n)?a[i]=He(a[i],n):be(n)?a[i]=He({},n):se(n)?a[i]=n.slice():(!t||!ee(n))&&(a[i]=n)};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&de(arguments[n],s);return a}const Ss=(e,t,a,{allOwnKeys:s}={})=>(de(t,(n,o)=>{a&&_(n)?Object.defineProperty(e,o,{value:Gt(n,a),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,o,{value:n,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:s}),e),Cs=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Es=(e,t,a,s)=>{e.prototype=Object.create(t.prototype,s),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},As=(e,t,a,s)=>{let n,o,i;const l={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),o=n.length;o-- >0;)i=n[o],(!s||s(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=a!==!1&&Qe(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},Rs=(e,t,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=t.length;const s=e.indexOf(t,a);return s!==-1&&s===a},Ts=e=>{if(!e)return null;if(se(e))return e;let t=e.length;if(!Qt(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},Os=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Qe(Uint8Array)),Ds=(e,t)=>{const s=(e&&e[Ee]).call(e);let n;for(;(n=s.next())&&!n.done;){const o=n.value;t.call(e,o[0],o[1])}},Ps=(e,t)=>{let a;const s=[];for(;(a=e.exec(t))!==null;)s.push(a);return s},Ms=H("HTMLFormElement"),Is=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,s,n){return s.toUpperCase()+n}),ht=(({hasOwnProperty:e})=>(t,a)=>e.call(t,a))(Object.prototype),Ls=H("RegExp"),rr=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),s={};de(a,(n,o)=>{let i;(i=t(n,o,e))!==!1&&(s[o]=i||n)}),Object.defineProperties(e,s)},Fs=e=>{rr(e,(t,a)=>{if(_(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const s=e[a];if(_(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},_s=(e,t)=>{const a={},s=n=>{n.forEach(o=>{a[o]=!0})};return se(e)?s(e):s(String(e).split(t)),a},$s=()=>{},Us=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Bs(e){return!!(e&&_(e.append)&&e[Zt]==="FormData"&&e[Ee])}const qs=e=>{const t=new Array(10),a=(s,n)=>{if(ce(s)){if(t.indexOf(s)>=0)return;if(le(s))return s;if(!("toJSON"in s)){t[n]=s;const o=se(s)?[]:{};return de(s,(i,l)=>{const u=a(i,n+1);!ee(u)&&(o[l]=u)}),t[n]=void 0,o}}return s};return a(e,0)},zs=H("AsyncFunction"),Hs=e=>e&&(ce(e)||_(e))&&_(e.then)&&_(e.catch),sr=((e,t)=>e?setImmediate:t?((a,s)=>(J.addEventListener("message",({source:n,data:o})=>{n===J&&o===a&&s.length&&s.shift()()},!1),n=>{s.push(n),J.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",_(J.postMessage)),Vs=typeof queueMicrotask<"u"?queueMicrotask.bind(J):typeof process<"u"&&process.nextTick||sr,Ks=e=>e!=null&&_(e[Ee]),g={isArray:se,isArrayBuffer:Xt,isBuffer:le,isFormData:ys,isArrayBufferView:cs,isString:ds,isNumber:Qt,isBoolean:us,isObject:ce,isPlainObject:be,isEmptyObject:ms,isReadableStream:ws,isRequest:vs,isResponse:ks,isHeaders:js,isUndefined:ee,isDate:hs,isFile:gs,isBlob:xs,isRegExp:Ls,isFunction:_,isStream:ps,isURLSearchParams:bs,isTypedArray:Os,isFileList:fs,forEach:de,merge:He,extend:Ss,trim:Ns,stripBOM:Cs,inherits:Es,toFlatObject:As,kindOf:Ae,kindOfTest:H,endsWith:Rs,toArray:Ts,forEachEntry:Ds,matchAll:Ps,isHTMLForm:Ms,hasOwnProperty:ht,hasOwnProp:ht,reduceDescriptors:rr,freezeMethods:Fs,toObjectSet:_s,toCamelCase:Is,noop:$s,toFiniteNumber:Us,findKey:er,global:J,isContextDefined:tr,isSpecCompliantForm:Bs,toJSONObject:qs,isAsyncFn:zs,isThenable:Hs,setImmediate:sr,asap:Vs,isIterable:Ks};let j=class ar extends Error{static from(t,a,s,n,o,i){const l=new ar(t.message,a||t.code,s,n,o);return l.cause=t,l.name=t.name,i&&Object.assign(l,i),l}constructor(t,a,s,n,o){super(t),this.name="AxiosError",this.isAxiosError=!0,a&&(this.code=a),s&&(this.config=s),n&&(this.request=n),o&&(this.response=o,this.status=o.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:g.toJSONObject(this.config),code:this.code,status:this.status}}};j.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";j.ERR_BAD_OPTION="ERR_BAD_OPTION";j.ECONNABORTED="ECONNABORTED";j.ETIMEDOUT="ETIMEDOUT";j.ERR_NETWORK="ERR_NETWORK";j.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";j.ERR_DEPRECATED="ERR_DEPRECATED";j.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";j.ERR_BAD_REQUEST="ERR_BAD_REQUEST";j.ERR_CANCELED="ERR_CANCELED";j.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";j.ERR_INVALID_URL="ERR_INVALID_URL";const Ws=null;function Ve(e){return g.isPlainObject(e)||g.isArray(e)}function nr(e){return g.endsWith(e,"[]")?e.slice(0,-2):e}function gt(e,t,a){return e?e.concat(t).map(function(n,o){return n=nr(n),!a&&o?"["+n+"]":n}).join(a?".":""):t}function Ys(e){return g.isArray(e)&&!e.some(Ve)}const Js=g.toFlatObject(g,{},null,function(t){return/^is[A-Z]/.test(t)});function Te(e,t,a){if(!g.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,a=g.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,f){return!g.isUndefined(f[y])});const s=a.metaTokens,n=a.visitor||c,o=a.dots,i=a.indexes,u=(a.Blob||typeof Blob<"u"&&Blob)&&g.isSpecCompliantForm(t);if(!g.isFunction(n))throw new TypeError("visitor must be a function");function h(m){if(m===null)return"";if(g.isDate(m))return m.toISOString();if(g.isBoolean(m))return m.toString();if(!u&&g.isBlob(m))throw new j("Blob is not supported. Use a Buffer instead.");return g.isArrayBuffer(m)||g.isTypedArray(m)?u&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,y,f){let w=m;if(m&&!f&&typeof m=="object"){if(g.endsWith(y,"{}"))y=s?y:y.slice(0,-2),m=JSON.stringify(m);else if(g.isArray(m)&&Ys(m)||(g.isFileList(m)||g.endsWith(y,"[]"))&&(w=g.toArray(m)))return y=nr(y),w.forEach(function(v,N){!(g.isUndefined(v)||v===null)&&t.append(i===!0?gt([y],N,o):i===null?y:y+"[]",h(v))}),!1}return Ve(m)?!0:(t.append(gt(f,y,o),h(m)),!1)}const x=[],d=Object.assign(Js,{defaultVisitor:c,convertValue:h,isVisitable:Ve});function p(m,y){if(!g.isUndefined(m)){if(x.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));x.push(m),g.forEach(m,function(w,k){(!(g.isUndefined(w)||w===null)&&n.call(t,w,g.isString(k)?k.trim():k,y,d))===!0&&p(w,y?y.concat(k):[k])}),x.pop()}}if(!g.isObject(e))throw new TypeError("data must be an object");return p(e),t}function xt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function et(e,t){this._pairs=[],e&&Te(e,this,t)}const or=et.prototype;or.append=function(t,a){this._pairs.push([t,a])};or.toString=function(t){const a=t?function(s){return t.call(this,s,xt)}:xt;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function Gs(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ir(e,t,a){if(!t)return e;const s=a&&a.encode||Gs,n=g.isFunction(a)?{serialize:a}:a,o=n&&n.serialize;let i;if(o?i=o(t,n):i=g.isURLSearchParams(t)?t.toString():new et(t,n).toString(s),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class ft{constructor(){this.handlers=[]}use(t,a,s){return this.handlers.push({fulfilled:t,rejected:a,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){g.forEach(this.handlers,function(s){s!==null&&t(s)})}}const tt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},Zs=typeof URLSearchParams<"u"?URLSearchParams:et,Xs=typeof FormData<"u"?FormData:null,Qs=typeof Blob<"u"?Blob:null,ea={isBrowser:!0,classes:{URLSearchParams:Zs,FormData:Xs,Blob:Qs},protocols:["http","https","file","blob","url","data"]},rt=typeof window<"u"&&typeof document<"u",Ke=typeof navigator=="object"&&navigator||void 0,ta=rt&&(!Ke||["ReactNative","NativeScript","NS"].indexOf(Ke.product)<0),ra=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",sa=rt&&window.location.href||"http://localhost",aa=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rt,hasStandardBrowserEnv:ta,hasStandardBrowserWebWorkerEnv:ra,navigator:Ke,origin:sa},Symbol.toStringTag,{value:"Module"})),F={...aa,...ea};function na(e,t){return Te(e,new F.classes.URLSearchParams,{visitor:function(a,s,n,o){return F.isNode&&g.isBuffer(a)?(this.append(s,a.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function oa(e){return g.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ia(e){const t={},a=Object.keys(e);let s;const n=a.length;let o;for(s=0;s<n;s++)o=a[s],t[o]=e[o];return t}function lr(e){function t(a,s,n,o){let i=a[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),u=o>=a.length;return i=!i&&g.isArray(n)?n.length:i,u?(g.hasOwnProp(n,i)?n[i]=[n[i],s]:n[i]=s,!l):((!n[i]||!g.isObject(n[i]))&&(n[i]=[]),t(a,s,n[i],o)&&g.isArray(n[i])&&(n[i]=ia(n[i])),!l)}if(g.isFormData(e)&&g.isFunction(e.entries)){const a={};return g.forEachEntry(e,(s,n)=>{t(oa(s),n,a,0)}),a}return null}function la(e,t,a){if(g.isString(e))try{return(t||JSON.parse)(e),g.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(a||JSON.stringify)(e)}const ue={transitional:tt,adapter:["xhr","http","fetch"],transformRequest:[function(t,a){const s=a.getContentType()||"",n=s.indexOf("application/json")>-1,o=g.isObject(t);if(o&&g.isHTMLForm(t)&&(t=new FormData(t)),g.isFormData(t))return n?JSON.stringify(lr(t)):t;if(g.isArrayBuffer(t)||g.isBuffer(t)||g.isStream(t)||g.isFile(t)||g.isBlob(t)||g.isReadableStream(t))return t;if(g.isArrayBufferView(t))return t.buffer;if(g.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return na(t,this.formSerializer).toString();if((l=g.isFileList(t))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Te(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return o||n?(a.setContentType("application/json",!1),la(t)):t}],transformResponse:[function(t){const a=this.transitional||ue.transitional,s=a&&a.forcedJSONParsing,n=this.responseType==="json";if(g.isResponse(t)||g.isReadableStream(t))return t;if(t&&g.isString(t)&&(s&&!this.responseType||n)){const i=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?j.from(l,j.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:F.classes.FormData,Blob:F.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};g.forEach(["delete","get","head","post","put","patch"],e=>{ue.headers[e]={}});const ca=g.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),da=e=>{const t={};let a,s,n;return e&&e.split(`
`).forEach(function(i){n=i.indexOf(":"),a=i.substring(0,n).trim().toLowerCase(),s=i.substring(n+1).trim(),!(!a||t[a]&&ca[a])&&(a==="set-cookie"?t[a]?t[a].push(s):t[a]=[s]:t[a]=t[a]?t[a]+", "+s:s)}),t},pt=Symbol("internals");function ie(e){return e&&String(e).trim().toLowerCase()}function we(e){return e===!1||e==null?e:g.isArray(e)?e.map(we):String(e)}function ua(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=a.exec(e);)t[s[1]]=s[2];return t}const ma=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ie(e,t,a,s,n){if(g.isFunction(s))return s.call(this,t,a);if(n&&(t=a),!!g.isString(t)){if(g.isString(s))return t.indexOf(s)!==-1;if(g.isRegExp(s))return s.test(t)}}function ha(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,s)=>a.toUpperCase()+s)}function ga(e,t){const a=g.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+a,{value:function(n,o,i){return this[s].call(this,t,n,o,i)},configurable:!0})})}let $=class{constructor(t){t&&this.set(t)}set(t,a,s){const n=this;function o(l,u,h){const c=ie(u);if(!c)throw new Error("header name must be a non-empty string");const x=g.findKey(n,c);(!x||n[x]===void 0||h===!0||h===void 0&&n[x]!==!1)&&(n[x||u]=we(l))}const i=(l,u)=>g.forEach(l,(h,c)=>o(h,c,u));if(g.isPlainObject(t)||t instanceof this.constructor)i(t,a);else if(g.isString(t)&&(t=t.trim())&&!ma(t))i(da(t),a);else if(g.isObject(t)&&g.isIterable(t)){let l={},u,h;for(const c of t){if(!g.isArray(c))throw TypeError("Object iterator must return a key-value pair");l[h=c[0]]=(u=l[h])?g.isArray(u)?[...u,c[1]]:[u,c[1]]:c[1]}i(l,a)}else t!=null&&o(a,t,s);return this}get(t,a){if(t=ie(t),t){const s=g.findKey(this,t);if(s){const n=this[s];if(!a)return n;if(a===!0)return ua(n);if(g.isFunction(a))return a.call(this,n,s);if(g.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=ie(t),t){const s=g.findKey(this,t);return!!(s&&this[s]!==void 0&&(!a||Ie(this,this[s],s,a)))}return!1}delete(t,a){const s=this;let n=!1;function o(i){if(i=ie(i),i){const l=g.findKey(s,i);l&&(!a||Ie(s,s[l],l,a))&&(delete s[l],n=!0)}}return g.isArray(t)?t.forEach(o):o(t),n}clear(t){const a=Object.keys(this);let s=a.length,n=!1;for(;s--;){const o=a[s];(!t||Ie(this,this[o],o,t,!0))&&(delete this[o],n=!0)}return n}normalize(t){const a=this,s={};return g.forEach(this,(n,o)=>{const i=g.findKey(s,o);if(i){a[i]=we(n),delete a[o];return}const l=t?ha(o):String(o).trim();l!==o&&delete a[o],a[l]=we(n),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return g.forEach(this,(s,n)=>{s!=null&&s!==!1&&(a[n]=t&&g.isArray(s)?s.join(", "):s)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const s=new this(t);return a.forEach(n=>s.set(n)),s}static accessor(t){const s=(this[pt]=this[pt]={accessors:{}}).accessors,n=this.prototype;function o(i){const l=ie(i);s[l]||(ga(n,i),s[l]=!0)}return g.isArray(t)?t.forEach(o):o(t),this}};$.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);g.reduceDescriptors($.prototype,({value:e},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[a]=s}}});g.freezeMethods($);function Le(e,t){const a=this||ue,s=t||a,n=$.from(s.headers);let o=s.data;return g.forEach(e,function(l){o=l.call(a,o,n.normalize(),t?t.status:void 0)}),n.normalize(),o}function cr(e){return!!(e&&e.__CANCEL__)}let me=class extends j{constructor(t,a,s){super(t??"canceled",j.ERR_CANCELED,a,s),this.name="CanceledError",this.__CANCEL__=!0}};function dr(e,t,a){const s=a.config.validateStatus;!a.status||!s||s(a.status)?e(a):t(new j("Request failed with status code "+a.status,[j.ERR_BAD_REQUEST,j.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function xa(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function fa(e,t){e=e||10;const a=new Array(e),s=new Array(e);let n=0,o=0,i;return t=t!==void 0?t:1e3,function(u){const h=Date.now(),c=s[o];i||(i=h),a[n]=u,s[n]=h;let x=o,d=0;for(;x!==n;)d+=a[x++],x=x%e;if(n=(n+1)%e,n===o&&(o=(o+1)%e),h-i<t)return;const p=c&&h-c;return p?Math.round(d*1e3/p):void 0}}function pa(e,t){let a=0,s=1e3/t,n,o;const i=(h,c=Date.now())=>{a=c,n=null,o&&(clearTimeout(o),o=null),e(...h)};return[(...h)=>{const c=Date.now(),x=c-a;x>=s?i(h,c):(n=h,o||(o=setTimeout(()=>{o=null,i(n)},s-x)))},()=>n&&i(n)]}const je=(e,t,a=3)=>{let s=0;const n=fa(50,250);return pa(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,u=i-s,h=n(u),c=i<=l;s=i;const x={loaded:i,total:l,progress:l?i/l:void 0,bytes:u,rate:h||void 0,estimated:h&&l&&c?(l-i)/h:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(x)},a)},yt=(e,t)=>{const a=e!=null;return[s=>t[0]({lengthComputable:a,total:e,loaded:s}),t[1]]},bt=e=>(...t)=>g.asap(()=>e(...t)),ya=F.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,F.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(F.origin),F.navigator&&/(msie|trident)/i.test(F.navigator.userAgent)):()=>!0,ba=F.hasStandardBrowserEnv?{write(e,t,a,s,n,o,i){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];g.isNumber(a)&&l.push(`expires=${new Date(a).toUTCString()}`),g.isString(s)&&l.push(`path=${s}`),g.isString(n)&&l.push(`domain=${n}`),o===!0&&l.push("secure"),g.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function wa(e){return typeof e!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function va(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function ur(e,t,a){let s=!wa(t);return e&&(s||a==!1)?va(e,t):t}const wt=e=>e instanceof $?{...e}:e;function Z(e,t){t=t||{};const a={};function s(h,c,x,d){return g.isPlainObject(h)&&g.isPlainObject(c)?g.merge.call({caseless:d},h,c):g.isPlainObject(c)?g.merge({},c):g.isArray(c)?c.slice():c}function n(h,c,x,d){if(g.isUndefined(c)){if(!g.isUndefined(h))return s(void 0,h,x,d)}else return s(h,c,x,d)}function o(h,c){if(!g.isUndefined(c))return s(void 0,c)}function i(h,c){if(g.isUndefined(c)){if(!g.isUndefined(h))return s(void 0,h)}else return s(void 0,c)}function l(h,c,x){if(x in t)return s(h,c);if(x in e)return s(void 0,h)}const u={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(h,c,x)=>n(wt(h),wt(c),x,!0)};return g.forEach(Object.keys({...e,...t}),function(c){if(c==="__proto__"||c==="constructor"||c==="prototype")return;const x=g.hasOwnProp(u,c)?u[c]:n,d=x(e[c],t[c],c);g.isUndefined(d)&&x!==l||(a[c]=d)}),a}const mr=e=>{const t=Z({},e);let{data:a,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:o,headers:i,auth:l}=t;if(t.headers=i=$.from(i),t.url=ir(ur(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),g.isFormData(a)){if(F.hasStandardBrowserEnv||F.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(g.isFunction(a.getHeaders)){const u=a.getHeaders(),h=["content-type","content-length"];Object.entries(u).forEach(([c,x])=>{h.includes(c.toLowerCase())&&i.set(c,x)})}}if(F.hasStandardBrowserEnv&&(s&&g.isFunction(s)&&(s=s(t)),s||s!==!1&&ya(t.url))){const u=n&&o&&ba.read(o);u&&i.set(n,u)}return t},ka=typeof XMLHttpRequest<"u",ja=ka&&function(e){return new Promise(function(a,s){const n=mr(e);let o=n.data;const i=$.from(n.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:h}=n,c,x,d,p,m;function y(){p&&p(),m&&m(),n.cancelToken&&n.cancelToken.unsubscribe(c),n.signal&&n.signal.removeEventListener("abort",c)}let f=new XMLHttpRequest;f.open(n.method.toUpperCase(),n.url,!0),f.timeout=n.timeout;function w(){if(!f)return;const v=$.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:v,config:e,request:f};dr(function(A){a(A),y()},function(A){s(A),y()},E),f=null}"onloadend"in f?f.onloadend=w:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(w)},f.onabort=function(){f&&(s(new j("Request aborted",j.ECONNABORTED,e,f)),f=null)},f.onerror=function(N){const E=N&&N.message?N.message:"Network Error",T=new j(E,j.ERR_NETWORK,e,f);T.event=N||null,s(T),f=null},f.ontimeout=function(){let N=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const E=n.transitional||tt;n.timeoutErrorMessage&&(N=n.timeoutErrorMessage),s(new j(N,E.clarifyTimeoutError?j.ETIMEDOUT:j.ECONNABORTED,e,f)),f=null},o===void 0&&i.setContentType(null),"setRequestHeader"in f&&g.forEach(i.toJSON(),function(N,E){f.setRequestHeader(E,N)}),g.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),l&&l!=="json"&&(f.responseType=n.responseType),h&&([d,m]=je(h,!0),f.addEventListener("progress",d)),u&&f.upload&&([x,p]=je(u),f.upload.addEventListener("progress",x),f.upload.addEventListener("loadend",p)),(n.cancelToken||n.signal)&&(c=v=>{f&&(s(!v||v.type?new me(null,e,f):v),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(c),n.signal&&(n.signal.aborted?c():n.signal.addEventListener("abort",c)));const k=xa(n.url);if(k&&F.protocols.indexOf(k)===-1){s(new j("Unsupported protocol "+k+":",j.ERR_BAD_REQUEST,e));return}f.send(o||null)})},Na=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let s=new AbortController,n;const o=function(h){if(!n){n=!0,l();const c=h instanceof Error?h:this.reason;s.abort(c instanceof j?c:new me(c instanceof Error?c.message:c))}};let i=t&&setTimeout(()=>{i=null,o(new j(`timeout of ${t}ms exceeded`,j.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),e=null)};e.forEach(h=>h.addEventListener("abort",o));const{signal:u}=s;return u.unsubscribe=()=>g.asap(l),u}},Sa=function*(e,t){let a=e.byteLength;if(a<t){yield e;return}let s=0,n;for(;s<a;)n=s+t,yield e.slice(s,n),s=n},Ca=async function*(e,t){for await(const a of Ea(e))yield*Sa(a,t)},Ea=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:a,value:s}=await t.read();if(a)break;yield s}}finally{await t.cancel()}},vt=(e,t,a,s)=>{const n=Ca(e,t);let o=0,i,l=u=>{i||(i=!0,s&&s(u))};return new ReadableStream({async pull(u){try{const{done:h,value:c}=await n.next();if(h){l(),u.close();return}let x=c.byteLength;if(a){let d=o+=x;a(d)}u.enqueue(new Uint8Array(c))}catch(h){throw l(h),h}},cancel(u){return l(u),n.return()}},{highWaterMark:2})},kt=64*1024,{isFunction:ge}=g,Aa=(({Request:e,Response:t})=>({Request:e,Response:t}))(g.global),{ReadableStream:jt,TextEncoder:Nt}=g.global,St=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Ra=e=>{e=g.merge.call({skipUndefined:!0},Aa,e);const{fetch:t,Request:a,Response:s}=e,n=t?ge(t):typeof fetch=="function",o=ge(a),i=ge(s);if(!n)return!1;const l=n&&ge(jt),u=n&&(typeof Nt=="function"?(m=>y=>m.encode(y))(new Nt):async m=>new Uint8Array(await new a(m).arrayBuffer())),h=o&&l&&St(()=>{let m=!1;const y=new a(F.origin,{body:new jt,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!y}),c=i&&l&&St(()=>g.isReadableStream(new s("").body)),x={stream:c&&(m=>m.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!x[m]&&(x[m]=(y,f)=>{let w=y&&y[m];if(w)return w.call(y);throw new j(`Response type '${m}' is not supported`,j.ERR_NOT_SUPPORT,f)})});const d=async m=>{if(m==null)return 0;if(g.isBlob(m))return m.size;if(g.isSpecCompliantForm(m))return(await new a(F.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(g.isArrayBufferView(m)||g.isArrayBuffer(m))return m.byteLength;if(g.isURLSearchParams(m)&&(m=m+""),g.isString(m))return(await u(m)).byteLength},p=async(m,y)=>{const f=g.toFiniteNumber(m.getContentLength());return f??d(y)};return async m=>{let{url:y,method:f,data:w,signal:k,cancelToken:v,timeout:N,onDownloadProgress:E,onUploadProgress:T,responseType:A,headers:U,withCredentials:q="same-origin",fetchOptions:R}=mr(m),V=t||fetch;A=A?(A+"").toLowerCase():"text";let L=Na([k,v&&v.toAbortSignal()],N),P=null;const O=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let M;try{if(T&&h&&f!=="get"&&f!=="head"&&(M=await p(U,w))!==0){let W=new a(y,{method:"POST",body:w,duplex:"half"}),X;if(g.isFormData(w)&&(X=W.headers.get("content-type"))&&U.setContentType(X),W.body){const[De,he]=yt(M,je(bt(T)));w=vt(W.body,kt,De,he)}}g.isString(q)||(q=q?"include":"omit");const I=o&&"credentials"in a.prototype,ne={...R,signal:L,method:f.toUpperCase(),headers:U.normalize().toJSON(),body:w,duplex:"half",credentials:I?q:void 0};P=o&&new a(y,ne);let z=await(o?V(P,R):V(y,ne));const oe=c&&(A==="stream"||A==="response");if(c&&(E||oe&&O)){const W={};["status","statusText","headers"].forEach(nt=>{W[nt]=z[nt]});const X=g.toFiniteNumber(z.headers.get("content-length")),[De,he]=E&&yt(X,je(bt(E),!0))||[];z=new s(vt(z.body,kt,De,()=>{he&&he(),O&&O()}),W)}A=A||"text";let jr=await x[g.findKey(x,A)||"text"](z,m);return!oe&&O&&O(),await new Promise((W,X)=>{dr(W,X,{data:jr,headers:$.from(z.headers),status:z.status,statusText:z.statusText,config:m,request:P})})}catch(I){throw O&&O(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new j("Network Error",j.ERR_NETWORK,m,P,I&&I.response),{cause:I.cause||I}):j.from(I,I&&I.code,m,P,I&&I.response)}}},Ta=new Map,hr=e=>{let t=e&&e.env||{};const{fetch:a,Request:s,Response:n}=t,o=[s,n,a];let i=o.length,l=i,u,h,c=Ta;for(;l--;)u=o[l],h=c.get(u),h===void 0&&c.set(u,h=l?new Map:Ra(t)),c=h;return h};hr();const st={http:Ws,xhr:ja,fetch:{get:hr}};g.forEach(st,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ct=e=>`- ${e}`,Oa=e=>g.isFunction(e)||e===null||e===!1;function Da(e,t){e=g.isArray(e)?e:[e];const{length:a}=e;let s,n;const o={};for(let i=0;i<a;i++){s=e[i];let l;if(n=s,!Oa(s)&&(n=st[(l=String(s)).toLowerCase()],n===void 0))throw new j(`Unknown adapter '${l}'`);if(n&&(g.isFunction(n)||(n=n.get(t))))break;o[l||"#"+i]=n}if(!n){const i=Object.entries(o).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=a?i.length>1?`since :
`+i.map(Ct).join(`
`):" "+Ct(i[0]):"as no adapter specified";throw new j("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n}const gr={getAdapter:Da,adapters:st};function Fe(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new me(null,e)}function Et(e){return Fe(e),e.headers=$.from(e.headers),e.data=Le.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),gr.getAdapter(e.adapter||ue.adapter,e)(e).then(function(s){return Fe(e),s.data=Le.call(e,e.transformResponse,s),s.headers=$.from(s.headers),s},function(s){return cr(s)||(Fe(e),s&&s.response&&(s.response.data=Le.call(e,e.transformResponse,s.response),s.response.headers=$.from(s.response.headers))),Promise.reject(s)})}const xr="1.13.5",Oe={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Oe[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const At={};Oe.transitional=function(t,a,s){function n(o,i){return"[Axios v"+xr+"] Transitional option '"+o+"'"+i+(s?". "+s:"")}return(o,i,l)=>{if(t===!1)throw new j(n(i," has been removed"+(a?" in "+a:"")),j.ERR_DEPRECATED);return a&&!At[i]&&(At[i]=!0,console.warn(n(i," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(o,i,l):!0}};Oe.spelling=function(t){return(a,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Pa(e,t,a){if(typeof e!="object")throw new j("options must be an object",j.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let n=s.length;for(;n-- >0;){const o=s[n],i=t[o];if(i){const l=e[o],u=l===void 0||i(l,o,e);if(u!==!0)throw new j("option "+o+" must be "+u,j.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new j("Unknown option "+o,j.ERR_BAD_OPTION)}}const ve={assertOptions:Pa,validators:Oe},B=ve.validators;let G=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ft,response:new ft}}async request(t,a){try{return await this._request(t,a)}catch(s){if(s instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const o=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=Z(this.defaults,a);const{transitional:s,paramsSerializer:n,headers:o}=a;s!==void 0&&ve.assertOptions(s,{silentJSONParsing:B.transitional(B.boolean),forcedJSONParsing:B.transitional(B.boolean),clarifyTimeoutError:B.transitional(B.boolean),legacyInterceptorReqResOrdering:B.transitional(B.boolean)},!1),n!=null&&(g.isFunction(n)?a.paramsSerializer={serialize:n}:ve.assertOptions(n,{encode:B.function,serialize:B.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),ve.assertOptions(a,{baseUrl:B.spelling("baseURL"),withXsrfToken:B.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let i=o&&g.merge(o.common,o[a.method]);o&&g.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),a.headers=$.concat(i,o);const l=[];let u=!0;this.interceptors.request.forEach(function(y){if(typeof y.runWhen=="function"&&y.runWhen(a)===!1)return;u=u&&y.synchronous;const f=a.transitional||tt;f&&f.legacyInterceptorReqResOrdering?l.unshift(y.fulfilled,y.rejected):l.push(y.fulfilled,y.rejected)});const h=[];this.interceptors.response.forEach(function(y){h.push(y.fulfilled,y.rejected)});let c,x=0,d;if(!u){const m=[Et.bind(this),void 0];for(m.unshift(...l),m.push(...h),d=m.length,c=Promise.resolve(a);x<d;)c=c.then(m[x++],m[x++]);return c}d=l.length;let p=a;for(;x<d;){const m=l[x++],y=l[x++];try{p=m(p)}catch(f){y.call(this,f);break}}try{c=Et.call(this,p)}catch(m){return Promise.reject(m)}for(x=0,d=h.length;x<d;)c=c.then(h[x++],h[x++]);return c}getUri(t){t=Z(this.defaults,t);const a=ur(t.baseURL,t.url,t.allowAbsoluteUrls);return ir(a,t.params,t.paramsSerializer)}};g.forEach(["delete","get","head","options"],function(t){G.prototype[t]=function(a,s){return this.request(Z(s||{},{method:t,url:a,data:(s||{}).data}))}});g.forEach(["post","put","patch"],function(t){function a(s){return function(o,i,l){return this.request(Z(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}G.prototype[t]=a(),G.prototype[t+"Form"]=a(!0)});let Ma=class fr{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(o){a=o});const s=this;this.promise.then(n=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](n);s._listeners=null}),this.promise.then=n=>{let o;const i=new Promise(l=>{s.subscribe(l),o=l}).then(n);return i.cancel=function(){s.unsubscribe(o)},i},t(function(o,i,l){s.reason||(s.reason=new me(o,i,l),a(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const t=new AbortController,a=s=>{t.abort(s)};return this.subscribe(a),t.signal.unsubscribe=()=>this.unsubscribe(a),t.signal}static source(){let t;return{token:new fr(function(n){t=n}),cancel:t}}};function Ia(e){return function(a){return e.apply(null,a)}}function La(e){return g.isObject(e)&&e.isAxiosError===!0}const We={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(We).forEach(([e,t])=>{We[t]=e});function pr(e){const t=new G(e),a=Gt(G.prototype.request,t);return g.extend(a,G.prototype,t,{allOwnKeys:!0}),g.extend(a,t,null,{allOwnKeys:!0}),a.create=function(n){return pr(Z(e,n))},a}const D=pr(ue);D.Axios=G;D.CanceledError=me;D.CancelToken=Ma;D.isCancel=cr;D.VERSION=xr;D.toFormData=Te;D.AxiosError=j;D.Cancel=D.CanceledError;D.all=function(t){return Promise.all(t)};D.spread=Ia;D.isAxiosError=La;D.mergeConfig=Z;D.AxiosHeaders=$;D.formToJSON=e=>lr(g.isHTMLForm(e)?new FormData(e):e);D.getAdapter=gr.getAdapter;D.HttpStatusCode=We;D.default=D;const{Axios:_n,AxiosError:$n,CanceledError:Un,isCancel:Bn,CancelToken:qn,VERSION:zn,all:Hn,Cancel:Vn,isAxiosError:Kn,spread:Wn,toFormData:Yn,AxiosHeaders:Jn,HttpStatusCode:Gn,formToJSON:Zn,getAdapter:Xn,mergeConfig:Qn}=D,Fa="https://www.googleapis.com/youtube/v3",_a=()=>localStorage.getItem("yt-api-key")||"AIzaSyAP8TWUcy7Q7dtPewqSuoy8BK4-HHYzLsg",te=D.create({baseURL:Fa});te.interceptors.request.use(e=>{const t=_a();return e.params={...e.params,key:t},e});const $a=async(e,t=12,a="",s="",n="relevance")=>{var x;const o={part:"snippet",q:e,type:"video",maxResults:t,order:n};a&&(o.pageToken=a),s&&(o.videoCategoryId=s);const l=(await te.get("/search",{params:o})).data;if(!l.items||l.items.length===0)return l;const u=l.items.map(d=>d.id.videoId).join(","),h=await te.get("/videos",{params:{part:"statistics,contentDetails",id:u}}),c={};return(x=h.data.items)==null||x.forEach(d=>{c[d.id]={statistics:d.statistics,contentDetails:d.contentDetails}}),l.items=l.items.map(d=>{const p=d.id.videoId,m=c[p];return{...d,id:p,statistics:m==null?void 0:m.statistics,contentDetails:m==null?void 0:m.contentDetails}}),l},Ua=async(e="US",t=12,a="",s="")=>{const n={part:"snippet,statistics,contentDetails",chart:"mostPopular",regionCode:e,maxResults:t};return a&&(n.pageToken=a),s&&(n.videoCategoryId=s),(await te.get("/videos",{params:n})).data},Ba=async e=>{var a;return((a=(await te.get("/videos",{params:{part:"snippet,statistics,contentDetails",id:e}})).data.items)==null?void 0:a[0])||null},Rt=async(e,t=100,a=!0)=>{const s=[];let n="",o=t;for(;o>0;){const i=Math.min(o,100),l={part:"snippet,replies",videoId:e,maxResults:i,order:"relevance",textFormat:"plainText"};n&&(l.pageToken=n);const u=await te.get("/commentThreads",{params:l}),h=u.data.items||[];if(s.push(...h),a&&h.forEach(c=>{if(c.replies&&c.replies.comments){const x=c.replies.comments.map(d=>({snippet:{textDisplay:d.snippet.textDisplay,authorDisplayName:d.snippet.authorDisplayName,authorProfileImageUrl:d.snippet.authorProfileImageUrl,likeCount:d.snippet.likeCount,publishedAt:d.snippet.publishedAt}}));s.push(...x)}}),o-=h.length,n=u.data.nextPageToken,!n||h.length===0)break}return s},qa=e=>{if(!e)return null;if(/^[a-zA-Z0-9_-]{11}$/.test(e.trim()))return e.trim();const t=[/(?:youtube\.com\/watch\?v=)([a-zA-Z0-9_-]{11})/,/(?:youtu\.be\/)([a-zA-Z0-9_-]{11})/,/(?:youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,/(?:youtube\.com\/shorts\/)([a-zA-Z0-9_-]{11})/];for(const a of t){const s=e.match(a);if(s)return s[1]}return null},yr=[{id:"",name:"All Categories"},{id:"1",name:"Film & Animation"},{id:"2",name:"Autos & Vehicles"},{id:"10",name:"Music"},{id:"15",name:"Pets & Animals"},{id:"17",name:"Sports"},{id:"19",name:"Travel & Events"},{id:"20",name:"Gaming"},{id:"22",name:"People & Blogs"},{id:"23",name:"Comedy"},{id:"24",name:"Entertainment"},{id:"25",name:"News & Politics"},{id:"26",name:"Howto & Style"},{id:"27",name:"Education"},{id:"28",name:"Science & Technology"},{id:"29",name:"Nonprofits & Activism"}],za=[{value:"relevance",label:"Relevance"},{value:"date",label:"Upload Date"},{value:"viewCount",label:"View Count"},{value:"rating",label:"Rating"}],Ha=[{code:"US",name:"United States"},{code:"IN",name:"India"},{code:"GB",name:"United Kingdom"},{code:"CA",name:"Canada"},{code:"AU",name:"Australia"},{code:"DE",name:"Germany"},{code:"FR",name:"France"},{code:"JP",name:"Japan"},{code:"BR",name:"Brazil"},{code:"KR",name:"South Korea"},{code:"MX",name:"Mexico"},{code:"RU",name:"Russia"}];function re(e,t){const[a,s]=b.useState(()=>{try{const n=localStorage.getItem(e);return n!==null?JSON.parse(n):t}catch{return t}});return b.useEffect(()=>{try{localStorage.setItem(e,JSON.stringify(a))}catch{}},[e,a]),[a,s]}const Tt="text-sm border border-gray-200 dark:border-gray-700 rounded-lg px-3 py-2 bg-white dark:bg-gray-800 dark:text-gray-200 focus:border-red-500 focus:ring-2 focus:ring-red-200 dark:focus:ring-red-900 outline-none";function Va({onSearch:e,compact:t=!1}){const[a,s]=b.useState(""),[n,o]=re("yt-search-category",""),[i,l]=re("yt-search-sort","relevance"),[u,h]=b.useState(!1),c=Ne(),x=d=>{d.preventDefault();const p=a.trim();if(!p)return;const m=qa(p);m?c(`/analytics/${m}`):e(p,n,i)};return t?r.jsxs("form",{onSubmit:x,className:"flex gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(ke,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-gray-500"}),r.jsx("input",{type:"text",value:a,onChange:d=>s(d.target.value),placeholder:"Search videos or paste YouTube URL...",className:"w-full px-4 pl-10 py-2 text-sm border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 dark:text-gray-200 focus:border-red-500 focus:ring-2 focus:ring-red-200 dark:focus:ring-red-900 outline-none"})]}),r.jsx("button",{type:"submit",className:"btn-primary whitespace-nowrap px-4 py-2 text-sm",children:"Search"})]}):r.jsxs("div",{className:"card mb-8",children:[r.jsxs("form",{onSubmit:x,className:"flex gap-3",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(ke,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-gray-500"}),r.jsx("input",{type:"text",value:a,onChange:d=>s(d.target.value),placeholder:"Search videos or paste YouTube URL...",className:"input-field pl-11"})]}),r.jsx("button",{type:"button",onClick:()=>h(d=>!d),className:`p-3 rounded-lg border transition-colors ${u?"bg-red-50 dark:bg-red-950 border-red-300 dark:border-red-800 text-red-600":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400 hover:border-gray-300 dark:hover:border-gray-600"}`,title:"Toggle filters",children:r.jsx(rs,{className:"w-5 h-5"})}),r.jsx("button",{type:"submit",className:"btn-primary whitespace-nowrap",children:"Search"})]}),u&&r.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 pt-4 border-t border-gray-100 dark:border-gray-800",children:[r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Category"}),r.jsx("select",{value:n,onChange:d=>o(d.target.value),className:Tt,children:yr.map(d=>r.jsx("option",{value:d.id,children:d.name},d.id))})]}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Sort By"}),r.jsx("select",{value:i,onChange:d=>l(d.target.value),className:Tt,children:za.map(d=>r.jsx("option",{value:d.value,children:d.label},d.value))})]}),(n||i!=="relevance")&&r.jsx("div",{className:"flex items-end",children:r.jsx("button",{type:"button",onClick:()=>{o(""),l("relevance")},className:"text-xs text-red-600 dark:text-red-400 hover:underline py-2",children:"Reset filters"})})]})]})}const Ka="yt-analytics-cache",Wa=1,S={VIDEOS:"videos",COMMENTS:"comments",ANALYSIS:"analysis"};let xe=null;const K=()=>new Promise((e,t)=>{if(xe){e(xe);return}const a=indexedDB.open(Ka,Wa);a.onerror=()=>t(a.error),a.onsuccess=()=>{xe=a.result,e(xe)},a.onupgradeneeded=s=>{const n=s.target.result;if(n.objectStoreNames.contains(S.VIDEOS)||n.createObjectStore(S.VIDEOS,{keyPath:"id"}).createIndex("timestamp","timestamp",{unique:!1}),!n.objectStoreNames.contains(S.COMMENTS)){const o=n.createObjectStore(S.COMMENTS,{keyPath:"id"});o.createIndex("videoId","videoId",{unique:!1}),o.createIndex("timestamp","timestamp",{unique:!1})}if(!n.objectStoreNames.contains(S.ANALYSIS)){const o=n.createObjectStore(S.ANALYSIS,{keyPath:"id"});o.createIndex("videoId","videoId",{unique:!1}),o.createIndex("type","type",{unique:!1}),o.createIndex("timestamp","timestamp",{unique:!1})}}}),Ya=async(e,t)=>{const n=(await K()).transaction([S.VIDEOS],"readwrite").objectStore(S.VIDEOS),o={id:e,data:t,timestamp:Date.now(),expiresAt:Date.now()+60*60*1e3};return await n.put(o),o},Ja=async e=>{const s=(await K()).transaction([S.VIDEOS],"readonly").objectStore(S.VIDEOS);return new Promise((n,o)=>{const i=s.get(e);i.onsuccess=()=>{const l=i.result;l&&l.expiresAt>Date.now()?n(l.data):n(null)},i.onerror=()=>o(i.error)})},Ga=async(e,t,a)=>{const o=(await K()).transaction([S.COMMENTS],"readwrite").objectStore(S.COMMENTS),i={id:`${e}:${a}`,videoId:e,count:a,comments:t,timestamp:Date.now(),expiresAt:Date.now()+6*60*60*1e3};return await o.put(i),i},Za=async(e,t)=>{const n=(await K()).transaction([S.COMMENTS],"readonly").objectStore(S.COMMENTS);return new Promise((o,i)=>{const l=n.get(`${e}:${t}`);l.onsuccess=()=>{const u=l.result;u&&u.expiresAt>Date.now()?o(u.comments):o(null)},l.onerror=()=>i(l.error)})},fe=async(e,t,a)=>{const o=(await K()).transaction([S.ANALYSIS],"readwrite").objectStore(S.ANALYSIS),i={id:`${e}:${t}`,videoId:e,type:t,data:a,timestamp:Date.now(),expiresAt:Date.now()+24*60*60*1e3};return await o.put(i),i},pe=async(e,t)=>{const n=(await K()).transaction([S.ANALYSIS],"readonly").objectStore(S.ANALYSIS);return new Promise((o,i)=>{const l=n.get(`${e}:${t}`);l.onsuccess=()=>{const u=l.result;u&&u.expiresAt>Date.now()?o(u.data):o(null)},l.onerror=()=>i(l.error)})},br=async()=>{const t=(await K()).transaction([S.VIDEOS,S.COMMENTS,S.ANALYSIS],"readwrite");await Promise.all([t.objectStore(S.VIDEOS).clear(),t.objectStore(S.COMMENTS).clear(),t.objectStore(S.ANALYSIS).clear()])},Xa=async()=>{const t=(await K()).transaction([S.VIDEOS,S.COMMENTS,S.ANALYSIS],"readonly"),a=i=>new Promise((l,u)=>{const h=t.objectStore(i).count();h.onsuccess=()=>l(h.result),h.onerror=()=>u(h.error)}),[s,n,o]=await Promise.all([a(S.VIDEOS),a(S.COMMENTS),a(S.ANALYSIS)]);return{videos:s,comments:n,analysis:o,total:s+n+o}},Qa=async()=>{const a=(await K()).transaction([S.VIDEOS],"readonly").objectStore(S.VIDEOS);return new Promise((s,n)=>{const o=a.getAll();o.onsuccess=()=>{const l=(o.result||[]).filter(u=>u.expiresAt>Date.now()).sort((u,h)=>h.timestamp-u.timestamp);s(l)},o.onerror=()=>n(o.error)})},en=async e=>{const a=(await K()).transaction([S.VIDEOS,S.COMMENTS,S.ANALYSIS],"readwrite");await a.objectStore(S.VIDEOS).delete(e);const s=a.objectStore(S.COMMENTS),o=s.index("videoId").getAllKeys(e);o.onsuccess=()=>{o.result.forEach(c=>s.delete(c))};const i=a.objectStore(S.ANALYSIS),u=i.index("videoId").getAllKeys(e);return u.onsuccess=()=>{u.result.forEach(c=>i.delete(c))},new Promise((h,c)=>{a.oncomplete=()=>h(),a.onerror=()=>c(a.error)})};function tn({isOpen:e,onClose:t,onSave:a}){const[s,n]=b.useState(""),[o,i]=b.useState(!1),l=()=>{s.trim()&&(a(s.trim()),n(""),t())},u=()=>{a(""),n(""),t()};return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:r.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-2xl max-w-md w-full border border-gray-200 dark:border-gray-800",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-800",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-red-50 dark:bg-red-950 rounded-lg",children:r.jsx(Kt,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"YouTube API Key"})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:r.jsx(Xe,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsx("div",{className:"bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx(qe,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[r.jsx("p",{className:"font-semibold mb-1",children:"Why provide your API key?"}),r.jsx("p",{children:"Using your own YouTube Data API key gives you full control over quota usage and ensures the app works reliably."})]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"API Key"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:o?"text":"password",value:s,onChange:h=>n(h.target.value),placeholder:"Enter your YouTube Data API v3 key",className:"w-full px-4 py-3 pr-20 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:border-red-500 focus:ring-2 focus:ring-red-200 dark:focus:ring-red-900 outline-none"}),r.jsx("button",{type:"button",onClick:()=>i(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:o?"Hide":"Show"})]})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 space-y-2",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"How to get an API key:"}),r.jsxs("ol",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1 list-decimal list-inside",children:[r.jsxs("li",{children:["Go to ",r.jsx("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",className:"text-red-600 dark:text-red-400 hover:underline",children:"Google Cloud Console"})]}),r.jsx("li",{children:"Create a new project or select existing"}),r.jsx("li",{children:"Enable YouTube Data API v3"}),r.jsx("li",{children:"Create credentials  API Key"}),r.jsx("li",{children:"Copy and paste the key above"})]})]}),r.jsx("div",{className:"bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx(Jr,{className:"w-5 h-5 text-green-600 dark:text-green-400 shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm text-green-800 dark:text-green-200",children:[r.jsx("p",{className:"font-semibold mb-1",children:"Your key is secure"}),r.jsx("p",{children:"The API key is stored only in your browser's localStorage and never sent to any server. It's used only for direct API calls to YouTube."})]})]})})]}),r.jsxs("div",{className:"flex items-center justify-between gap-3 p-6 border-t border-gray-200 dark:border-gray-800",children:[r.jsx("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:"Clear Saved Key"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:"Cancel"}),r.jsx("button",{onClick:l,disabled:!s.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Key"})]})]})]})}):null}function rn(){const[e,t]=b.useState(!1),[a,s]=re("yt-comment-count",200),[n,o]=b.useState(null),[i,l]=b.useState(!1),[u,h]=b.useState(!1),[c,x]=b.useState(!1);b.useEffect(()=>{d()},[]);const d=()=>{localStorage.getItem("yt-api-key"),x(!0)},p=f=>{f?localStorage.setItem("yt-api-key",f):localStorage.removeItem("yt-api-key"),d()};b.useEffect(()=>{e&&m()},[e]);const m=async()=>{try{const f=await Xa();o(f)}catch(f){console.error("Error loading cache stats:",f)}},y=async()=>{if(confirm("Are you sure you want to clear all cached data? This will remove all stored videos, comments, and analysis results.")){l(!0);try{await br(),await m(),alert("Cache cleared successfully!")}catch(f){console.error("Error clearing cache:",f),alert("Failed to clear cache. Please try again.")}finally{l(!1)}}};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>t(!e),className:"p-2 rounded-lg text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800 transition-colors relative","aria-label":"Comment settings",title:"Comment Analysis Settings",children:[r.jsx(ts,{className:"w-5 h-5"}),a!==200&&r.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full"})]}),e&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>t(!1)}),r.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Comment Analysis Settings"}),r.jsx("button",{onClick:()=>t(!1),className:"p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:r.jsx(Xe,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Number of comments to fetch"}),r.jsxs("select",{value:a,onChange:f=>s(Number(f.target.value)),className:"w-full text-sm border border-gray-200 dark:border-gray-700 rounded-lg px-3 py-2 bg-white dark:bg-gray-900 dark:text-gray-200 focus:border-red-500 focus:ring-2 focus:ring-red-200 dark:focus:ring-red-900 outline-none",children:[r.jsx("option",{value:200,children:"200 comments"}),r.jsx("option",{value:500,children:"500 comments"}),r.jsx("option",{value:1e3,children:"1000 comments"}),r.jsx("option",{value:5e3,children:"5000 comments"}),r.jsx("option",{value:1e4,children:"All available comments"})]})]}),r.jsxs("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Changes apply automatically to the current video. This setting is saved for all future videos."}),a>=1e3&&r.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-2",children:[" Fetching ",a>=1e4?"all":a," comments may take longer and use more API quota."]})]}),r.jsxs("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:[r.jsxs("button",{onClick:()=>{h(!0),t(!1)},className:"w-full flex items-center justify-between px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kt,{className:"w-4 h-4"}),r.jsx("span",{children:"YouTube API Key"})]}),r.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${c?"bg-green-100 text-green-700 dark:bg-green-950 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-950 dark:text-red-400"}`,children:c?"Configured":"Not Set"})]}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 px-3",children:c?"Using your API key for requests":"Click to add your YouTube API key"})]}),r.jsxs("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ht,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),r.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Cache Storage"})]}),r.jsxs("button",{onClick:y,disabled:i||!n||n.total===0,className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(Ge,{className:"w-3 h-3"}),i?"Clearing...":"Clear Cache"]})]}),n?r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded p-2 text-center",children:[r.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:n.videos}),r.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Videos"})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded p-2 text-center",children:[r.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:n.comments}),r.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Comments"})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded p-2 text-center",children:[r.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:n.analysis}),r.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Analysis"})]})]}):r.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Loading cache stats..."})]})]})]})})]})]}),r.jsx(tn,{isOpen:u,onClose:()=>h(!1),onSave:p})]})}function sn({children:e,darkMode:t,toggleTheme:a,onSearch:s}){const n=Ut();return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 transition-colors duration-300",children:[r.jsx("nav",{className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 sticky top-0 z-50 transition-colors duration-300",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between gap-4 py-3",children:[r.jsxs($e,{to:"/",className:"flex items-center gap-2 group shrink-0",children:[r.jsx("div",{className:"bg-red-600 p-2 rounded-lg group-hover:bg-red-700 transition-colors",children:r.jsx(is,{className:"w-5 h-5 text-white"})}),r.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"YT Analytics"})]}),r.jsx("div",{className:"flex-1 max-w-2xl",children:r.jsx(Va,{onSearch:s,compact:!0})}),r.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[r.jsxs($e,{to:"/history",className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n.pathname==="/history"?"bg-red-50 text-red-600 dark:bg-red-950 dark:text-red-400":"text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800"}`,children:[r.jsx(ze,{className:"w-4 h-4"}),"History"]}),r.jsx("button",{onClick:a,className:"ml-2 p-2 rounded-lg text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800 transition-colors","aria-label":t?"Switch to light mode":"Switch to dark mode",title:t?"Switch to light mode":"Switch to dark mode",children:t?r.jsx(as,{className:"w-5 h-5"}):r.jsx(es,{className:"w-5 h-5"})}),r.jsx(rn,{})]})]})})}),r.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e})]})}function an({video:e}){var u,h,c,x,d,p,m;const t=Ne(),a=((u=e.id)==null?void 0:u.videoId)||e.id,s=e.snippet,n=e.statistics,o=y=>{if(!y)return"";const f=parseInt(y);return f>=1e6?(f/1e6).toFixed(1)+"M":f>=1e3?(f/1e3).toFixed(1)+"K":f.toLocaleString()},i=y=>{if(!y)return"";const f=new Date,w=new Date(y),k=Math.floor((f-w)/1e3);if(k<60)return"just now";const v=Math.floor(k/60);if(v<60)return`${v} minute${v!==1?"s":""} ago`;const N=Math.floor(v/60);if(N<24)return`${N} hour${N!==1?"s":""} ago`;const E=Math.floor(N/24);if(E<7)return`${E} day${E!==1?"s":""} ago`;const T=Math.floor(E/7);if(T<5)return`${T} week${T!==1?"s":""} ago`;const A=Math.floor(E/30);if(A<12)return`${A} month${A!==1?"s":""} ago`;const U=Math.floor(E/365);return`${U} year${U!==1?"s":""} ago`},l=()=>{t(`/analytics/${a}`)};return r.jsxs("div",{onClick:l,className:"bg-white dark:bg-gray-900 rounded-xl border border-gray-100 dark:border-gray-800 overflow-hidden hover:shadow-lg hover:border-gray-200 dark:hover:border-gray-700 transition-all duration-300 cursor-pointer group",children:[r.jsxs("div",{className:"relative overflow-hidden",children:[r.jsx("img",{src:((c=(h=s==null?void 0:s.thumbnails)==null?void 0:h.high)==null?void 0:c.url)||((d=(x=s==null?void 0:s.thumbnails)==null?void 0:x.medium)==null?void 0:d.url)||((m=(p=s==null?void 0:s.thumbnails)==null?void 0:p.default)==null?void 0:m.url),alt:s==null?void 0:s.title,className:"w-full aspect-video object-cover group-hover:scale-105 transition-transform duration-300"}),r.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors duration-300"}),r.jsx("div",{className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:r.jsxs("span",{className:"bg-red-600 text-white text-xs font-medium px-2 py-1 rounded-md flex items-center gap-1",children:[r.jsx(Wr,{className:"w-3 h-3"}),"Analyze"]})})]}),r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-semibold text-sm text-gray-900 dark:text-gray-100 line-clamp-2 mb-2 group-hover:text-red-600 dark:group-hover:text-red-400 transition-colors",children:s==null?void 0:s.title}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:s==null?void 0:s.channelTitle}),n&&r.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 dark:text-gray-400",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Ye,{className:"w-3.5 h-3.5"}),o(n.viewCount)]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Ce,{className:"w-3.5 h-3.5"}),o(n.likeCount)]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Je,{className:"w-3.5 h-3.5"}),o(n.commentCount)]})]}),(s==null?void 0:s.publishedAt)&&r.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2",children:[new Date(s.publishedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})," ",r.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:""})," ",i(s.publishedAt)]})]})]})}function ye(){return r.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl border border-gray-100 dark:border-gray-800 overflow-hidden animate-pulse",children:[r.jsx("div",{className:"w-full aspect-video bg-gray-200 dark:bg-gray-800"}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"space-y-2 mb-3",children:[r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-800 rounded w-full"}),r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-800 rounded w-3/4"})]}),r.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-800 rounded w-1/2 mb-3"}),r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-800 rounded w-16"}),r.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-800 rounded w-16"}),r.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-800 rounded w-16"})]}),r.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-800 rounded w-32"})]})]})}function wr({videos:e,loading:t,title:a,emptyMessage:s,loadingMore:n,sentinelRef:o}){return t&&(!e||e.length===0)?r.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[r.jsx(Wt,{className:"w-8 h-8 text-red-600 animate-spin mb-3"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Loading videos..."})]}):!t&&(!e||e.length===0)?r.jsx("div",{className:"text-center py-16",children:r.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm",children:s||"No videos found."})}):r.jsxs("div",{children:[a&&r.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:a}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:[e.map(i=>{var l;return r.jsx(an,{video:i},((l=i.id)==null?void 0:l.videoId)||i.id)}),n&&r.jsxs(r.Fragment,{children:[r.jsx(ye,{}),r.jsx(ye,{}),r.jsx(ye,{}),r.jsx(ye,{})]})]}),o&&r.jsx("div",{ref:o,className:"h-4"})]})}function at(e,t,a){const s=b.useRef();return b.useCallback(o=>{a||(s.current&&s.current.disconnect(),s.current=new IntersectionObserver(i=>{i[0].isIntersecting&&t&&e()}),o&&s.current.observe(o))},[a,t,e])}const Ot="text-sm border border-gray-200 dark:border-gray-700 rounded-lg px-3 py-2 bg-white dark:bg-gray-800 dark:text-gray-200 focus:border-red-500 focus:ring-2 focus:ring-red-200 dark:focus:ring-red-900 outline-none";function nn(){const[e,t]=b.useState([]),[a,s]=b.useState(!0),[n,o]=b.useState(!1),[i,l]=re("yt-trending-region","US"),[u,h]=re("yt-trending-category",""),[c,x]=b.useState(null),[d,p]=b.useState(""),m=b.useCallback(async(w="",k=!1)=>{var v;k?o(!0):s(!0),x(null);try{const N=await Ua(i,12,w,u);t(k?E=>[...E,...N.items||[]]:N.items||[]),p(N.nextPageToken||"")}catch(N){console.error("Error fetching trending videos:",N),((v=N.response)==null?void 0:v.status)===403?x("API quota exceeded. Please try again later or check your API key."):x("Failed to fetch trending videos. Please check your API key.")}finally{k?o(!1):s(!1)}},[i,u]);b.useEffect(()=>{m("",!1)},[i,u,m]);const y=b.useCallback(async()=>{!d||n||await m(d,!0)},[d,n,m]),f=at(y,!!d,n);return r.jsxs("div",{children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ze,{className:"w-5 h-5 text-red-600"}),r.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Trending Videos"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("select",{value:u,onChange:w=>h(w.target.value),className:Ot,children:yr.map(w=>r.jsx("option",{value:w.id,children:w.name},w.id))}),r.jsx("select",{value:i,onChange:w=>l(w.target.value),className:Ot,children:Ha.map(w=>r.jsx("option",{value:w.code,children:w.name},w.code))})]})]}),c?r.jsx("div",{className:"bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded-lg p-4 text-red-700 dark:text-red-400 text-sm",children:c}):r.jsx(wr,{videos:e,loading:a,loadingMore:n,sentinelRef:f})]})}function on(){const e=Ut(),[t,a]=b.useState([]),[s,n]=b.useState(!1),[o,i]=b.useState(!1),[l,u]=b.useState(""),[h,c]=b.useState(null),[x,d]=b.useState(!1),[p,m]=b.useState(""),[y,f]=b.useState(""),[w,k]=b.useState("relevance"),v=b.useCallback(async(T,A="",U="",q="relevance",R=!1)=>{var V;R?i(!0):n(!0),c(null);try{const L=await $a(T,12,A,U,q);a(R?P=>[...P,...L.items||[]]:L.items||[]),m(L.nextPageToken||"")}catch(L){console.error("Search error:",L),((V=L.response)==null?void 0:V.status)===403?c("API quota exceeded. Please try again later or check your API key."):c("Search failed. Please check your API key and try again."),R||a([])}finally{R?i(!1):n(!1)}},[]),N=b.useCallback(async()=>{!p||o||await v(l,p,y,w,!0)},[l,p,y,w,o,v]),E=at(N,!!p,o);return b.useEffect(()=>{var T;if((T=e.state)!=null&&T.query){const{query:A,categoryId:U="",order:q="relevance"}=e.state;u(A),f(U),k(q),d(!0),v(A,"",U,q,!1)}},[e.state,v]),r.jsxs("div",{children:[x&&r.jsx("div",{className:"mb-10",children:h?r.jsx("div",{className:"bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded-lg p-4 text-red-700 dark:text-red-400 text-sm",children:h}):r.jsx(wr,{videos:t,loading:s,loadingMore:o,sentinelRef:E,title:l?`Search Results for "${l}"`:void 0,emptyMessage:"No videos found. Try a different search term."})}),r.jsx("div",{className:"mt-6",children:r.jsx(nn,{})})]})}const vr=new Rr,ln=e=>{const t=vr.analyze(e);return{score:t.score,comparative:t.comparative,label:t.score>0?"positive":t.score<0?"negative":"neutral",positive:t.positive,negative:t.negative}},Dt=e=>{const t=e.map(s=>{var o,i,l,u,h,c,x,d,p,m,y,f,w,k,v,N,E;const n=((l=(i=(o=s.snippet)==null?void 0:o.topLevelComment)==null?void 0:i.snippet)==null?void 0:l.textDisplay)||((u=s.snippet)==null?void 0:u.textDisplay)||"";return{text:n,author:((x=(c=(h=s.snippet)==null?void 0:h.topLevelComment)==null?void 0:c.snippet)==null?void 0:x.authorDisplayName)||((d=s.snippet)==null?void 0:d.authorDisplayName)||"Unknown",authorImage:((y=(m=(p=s.snippet)==null?void 0:p.topLevelComment)==null?void 0:m.snippet)==null?void 0:y.authorProfileImageUrl)||"",likeCount:((k=(w=(f=s.snippet)==null?void 0:f.topLevelComment)==null?void 0:w.snippet)==null?void 0:k.likeCount)||0,publishedAt:((E=(N=(v=s.snippet)==null?void 0:v.topLevelComment)==null?void 0:N.snippet)==null?void 0:E.publishedAt)||"",...ln(n)}}),a={total:t.length,positive:t.filter(s=>s.label==="positive").length,negative:t.filter(s=>s.label==="negative").length,neutral:t.filter(s=>s.label==="neutral").length,averageScore:t.length>0?t.reduce((s,n)=>s+n.score,0)/t.length:0};return{results:t,summary:a}},cn=e=>{const t=vr.analyze(e);return t.score>0?"positive":t.score<0?"negative":"neutral"},Pt=e=>{const t=new Set(["the","a","an","and","or","but","in","on","at","to","for","of","with","by","is","it","this","that","was","are","be","has","have","had","do","does","did","will","would","could","should","may","might","can","not","no","so","if","then","than","too","very","just","about","up","out","my","your","his","her","its","our","their","i","you","he","she","we","they","me","him","us","them","what","which","who","when","where","how","all","each","every","both","few","more","most","other","some","such","only","own","same","from","as","into","through","during","before","after","above","below","between","because","been","being","here","there","these","those","am","were","while","also","get","got","like","dont","im","ive","its","thats","youre","hes","shes","were","theyre","wont","cant","didnt","doesnt","isnt","arent","wasnt","werent","really","much","one","two","even","still","well","back","know","think","make","going","see","come","want","look","say","said","way","thing","man","day","time"]),a={};return e.forEach(s=>{var i,l,u,h;(((u=(l=(i=s.snippet)==null?void 0:i.topLevelComment)==null?void 0:l.snippet)==null?void 0:u.textDisplay)||((h=s.snippet)==null?void 0:h.textDisplay)||"").toLowerCase().replace(/[^a-zA-Z\s]/g,"").split(/\s+/).filter(c=>c.length>2&&!t.has(c)).forEach(c=>{a[c]=(a[c]||0)+1})}),Object.entries(a).map(([s,n])=>({text:s,value:n,sentiment:cn(s)})).sort((s,n)=>n.value-s.value).slice(0,80)},Mt=e=>{const t={people:{},places:{},organizations:{}};e.forEach(s=>{var l,u,h,c;const o=(((h=(u=(l=s.snippet)==null?void 0:l.topLevelComment)==null?void 0:u.snippet)==null?void 0:h.textDisplay)||((c=s.snippet)==null?void 0:c.textDisplay)||"").replace(/<[^>]*>/g," ").replace(/&[^;]+;/g," "),i=Ue(o);i.people().forEach(x=>{const d=x.text().trim();d.length>1&&(t.people[d]=(t.people[d]||0)+1)}),i.places().forEach(x=>{const d=x.text().trim();d.length>1&&(t.places[d]=(t.places[d]||0)+1)}),i.organizations().forEach(x=>{const d=x.text().trim();d.length>1&&(t.organizations[d]=(t.organizations[d]||0)+1)})});const a=(s,n=30)=>Object.entries(s).map(([o,i])=>({name:o,count:i})).sort((o,i)=>i.count-o.count).slice(0,n);return{people:a(t.people),places:a(t.places),organizations:a(t.organizations)}},It=(e,t)=>{var i,l,u;const a={};(i=e==null?void 0:e.snippet)!=null&&i.tags&&e.snippet.tags.forEach(h=>{const c=h.toLowerCase().trim();c.length>2&&(a[c]=(a[c]||0)+5)});const s=[((l=e==null?void 0:e.snippet)==null?void 0:l.title)||"",((u=e==null?void 0:e.snippet)==null?void 0:u.description)||""].join(" ");return Ue(s).nouns().forEach(h=>{const c=h.text().toLowerCase().trim();c.length>2&&!Lt(c)&&(a[c]=(a[c]||0)+3)}),(s.match(/#[\w]+/g)||[]).forEach(h=>{const c=h.substring(1).toLowerCase();c.length>2&&(a[c]=(a[c]||0)+4)}),t.forEach(h=>{var m,y,f,w;const x=(((f=(y=(m=h.snippet)==null?void 0:m.topLevelComment)==null?void 0:y.snippet)==null?void 0:f.textDisplay)||((w=h.snippet)==null?void 0:w.textDisplay)||"").replace(/<[^>]*>/g," ").replace(/&[^;]+;/g," ");(x.match(/#[\w]+/g)||[]).forEach(k=>{const v=k.substring(1).toLowerCase();v.length>2&&(a[v]=(a[v]||0)+2)}),Ue(x).nouns().forEach(k=>{const v=k.text().toLowerCase().trim();v.length>2&&!Lt(v)&&(a[v]=(a[v]||0)+1)})}),Object.entries(a).map(([h,c])=>({text:h,value:c})).sort((h,c)=>c.value-h.value).slice(0,50)},Lt=e=>new Set(["video","comment","comments","youtube","channel","subscribe","like","share","watch","link","description","check","follow","instagram","twitter","facebook","social","media","content","creator","viewers","audience","people","person","thing","things","time","times","day","days","year","years","way","ways"]).has(e),Y={VIDEO:"video",COMMENTS:"comments",SENTIMENT:"sentiment",ENTITIES:"entities",TAGS:"tags",WORDS:"words"},dn=async e=>{try{return await Ja(e)}catch(t){return console.error("Error getting cached video:",t),null}},un=async(e,t)=>{try{await Ya(e,t)}catch(a){console.error("Error caching video:",a)}},mn=async(e,t)=>{try{return await Za(e,t)}catch(a){return console.error("Error getting cached comments:",a),null}},hn=async(e,t,a)=>{try{await Ga(e,t,a)}catch(s){console.error("Error caching comments:",s)}},gn=async e=>{try{const[t,a,s,n]=await Promise.all([pe(e,Y.SENTIMENT),pe(e,Y.ENTITIES),pe(e,Y.TAGS),pe(e,Y.WORDS)]);return{sentiment:t,entities:a,tags:s,words:n}}catch(t){return console.error("Error getting all cached analysis:",t),{sentiment:null,entities:null,tags:null,words:null}}},xn=async(e,t,a,s,n)=>{try{await Promise.all([fe(e,Y.SENTIMENT,t),fe(e,Y.ENTITIES,a),fe(e,Y.TAGS,s),fe(e,Y.WORDS,n)])}catch(o){console.error("Error saving all analysis:",o)}},kr=b.createContext(),ae=()=>{const e=b.useContext(kr);if(!e)throw new Error("useFilter must be used within FilterProvider");return e},fn=({children:e,comments:t})=>{const[a,s]=b.useState({sentiment:[],words:[],entities:[],tags:[],scoreRange:null}),n=(x,d)=>{s(p=>{if(x==="scoreRange")return{...p,scoreRange:d};const m=p[x]||[];return m.includes(d)?p:{...p,[x]:[...m,d]}})},o=(x,d)=>{s(p=>x==="scoreRange"?{...p,scoreRange:null}:{...p,[x]:p[x].filter(m=>m!==d)})},i=()=>{s({sentiment:[],words:[],entities:[],tags:[],scoreRange:null})},l=b.useMemo(()=>a.sentiment.length>0||a.words.length>0||a.entities.length>0||a.tags.length>0||a.scoreRange!==null,[a]),u=b.useMemo(()=>!t||!l?t||[]:t.filter(x=>{var d,p,m;if(a.sentiment.length>0&&!a.sentiment.includes(x.label))return!1;if(a.words.length>0){const y=((d=x.text)==null?void 0:d.toLowerCase())||"";if(!a.words.some(w=>y.includes(w.toLowerCase())))return!1}if(a.entities.length>0){const y=((p=x.text)==null?void 0:p.toLowerCase())||"";if(!a.entities.some(w=>y.includes(w.toLowerCase())))return!1}if(a.tags.length>0){const y=((m=x.text)==null?void 0:m.toLowerCase())||"";if(!a.tags.some(w=>y.includes(w.toLowerCase())))return!1}if(a.scoreRange){const{min:y,max:f}=a.scoreRange;if(x.score<y||x.score>f)return!1}return!0}),[t,a,l]),h=b.useMemo(()=>{const x=(t==null?void 0:t.length)||0,d=u.length,p=d>0?u.reduce((m,y)=>m+(y.score||0),0)/d:0;return{total:x,filtered:d,avgScore:p.toFixed(2)}},[t,u]),c={filters:a,addFilter:n,removeFilter:o,clearFilters:i,hasActiveFilters:l,filteredComments:u,stats:h};return r.jsx(kr.Provider,{value:c,children:e})};function pn({video:e}){var d,p,m,y,f,w;const[t,a]=b.useState(!1);if(!e)return null;const{snippet:s,statistics:n}=e,o=k=>k?parseInt(k).toLocaleString():"0",i=k=>{if(!k)return"0";const v=parseInt(k);return v>=1e6?(v/1e6).toFixed(1)+"M":v>=1e3?(v/1e3).toFixed(1)+"K":v.toLocaleString()},u=(()=>{const k=parseInt((n==null?void 0:n.viewCount)||0),v=parseInt((n==null?void 0:n.likeCount)||0);return k===0?0:(v/k*100).toFixed(2)})(),h=[{icon:Ye,label:"Views",value:o(n==null?void 0:n.viewCount),compact:i(n==null?void 0:n.viewCount),color:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-950",hoverBg:"hover:bg-blue-100 dark:hover:bg-blue-900"},{icon:Ce,label:"Likes",value:o(n==null?void 0:n.likeCount),compact:i(n==null?void 0:n.likeCount),color:"text-green-600",bg:"bg-green-50 dark:bg-green-950",hoverBg:"hover:bg-green-100 dark:hover:bg-green-900"},{icon:Je,label:"Comments",value:o(n==null?void 0:n.commentCount),compact:i(n==null?void 0:n.commentCount),color:"text-purple-600",bg:"bg-purple-50 dark:bg-purple-950",hoverBg:"hover:bg-purple-100 dark:hover:bg-purple-900"},{icon:Ze,label:"Engagement",value:`${u}%`,compact:`${u}%`,color:"text-orange-600",bg:"bg-orange-50 dark:bg-orange-950",hoverBg:"hover:bg-orange-100 dark:hover:bg-orange-900"}],c=(s==null?void 0:s.description)||"",x=c.length>200;return r.jsx("div",{className:"card",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[r.jsx("div",{className:"lg:w-96 shrink-0",children:r.jsx("img",{src:((p=(d=s==null?void 0:s.thumbnails)==null?void 0:d.maxres)==null?void 0:p.url)||((y=(m=s==null?void 0:s.thumbnails)==null?void 0:m.high)==null?void 0:y.url)||((w=(f=s==null?void 0:s.thumbnails)==null?void 0:f.medium)==null?void 0:w.url),alt:s==null?void 0:s.title,className:"w-full rounded-lg aspect-video object-cover shadow-md"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2 line-clamp-2",children:s==null?void 0:s.title}),r.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[r.jsx(ns,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:s==null?void 0:s.channelTitle}),r.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),r.jsx(zt,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:s!=null&&s.publishedAt?new Date(s.publishedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):""})]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-4",children:h.map(k=>r.jsxs("div",{className:`${k.bg} ${k.hoverBg} rounded-lg p-3 text-center transition-all duration-200 cursor-default transform hover:scale-105 hover:shadow-md`,title:`${k.label}: ${k.value}`,children:[r.jsx(k.icon,{className:`w-5 h-5 ${k.color} mx-auto mb-1`}),r.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:k.compact}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:k.label})]},k.label))}),c&&r.jsxs("div",{className:"relative",children:[r.jsx("p",{className:`text-sm text-gray-600 dark:text-gray-400 leading-relaxed transition-all duration-300 ${t?"":"line-clamp-3"}`,children:c}),x&&r.jsx("button",{onClick:()=>a(!t),className:"mt-2 inline-flex items-center gap-1 text-sm text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 font-medium transition-colors",children:t?r.jsxs(r.Fragment,{children:["Show less ",r.jsx(Zr,{className:"w-4 h-4"})]}):r.jsxs(r.Fragment,{children:["Show more ",r.jsx(Gr,{className:"w-4 h-4"})]})})]})]})]})})}function yn(){return r.jsx("div",{className:"card animate-pulse",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[r.jsx("div",{className:"lg:w-96 shrink-0",children:r.jsx("div",{className:"w-full aspect-video bg-gray-200 dark:bg-gray-800 rounded-lg"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-800 rounded w-3/4"}),r.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-800 rounded w-1/2"})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-800 rounded w-32"}),r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-800 rounded w-24"})]}),r.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[1,2,3].map(e=>r.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-3",children:[r.jsx("div",{className:"h-5 w-5 bg-gray-200 dark:bg-gray-700 rounded mx-auto mb-2"}),r.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-16 mx-auto mb-1"}),r.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-12 mx-auto"})]},e))}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-800 rounded w-full"}),r.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-800 rounded w-5/6"}),r.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-800 rounded w-4/6"})]})]})]})})}const Q={positive:"#22c55e",neutral:"#f59e0b",negative:"#ef4444"},bn=({active:e,payload:t})=>{if(e&&t&&t.length){const a=t[0];return r.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg px-3 py-2",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:a.name}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[a.value," comments"]})]})}return null};function wn({summary:e,results:t}){const{addFilter:a}=ae();if(!e)return null;const s=c=>{a("sentiment",c.toLowerCase())},n=[{name:"Positive",value:e.positive,color:Q.positive},{name:"Neutral",value:e.neutral,color:Q.neutral},{name:"Negative",value:e.negative,color:Q.negative}],i=[{range:"< -5",min:-1/0,max:-5},{range:"-5 to -3",min:-5,max:-3},{range:"-2 to -1",min:-2,max:-1},{range:"0",min:0,max:0},{range:"1 to 2",min:1,max:2},{range:"3 to 5",min:3,max:5},{range:"> 5",min:5,max:1/0}].map(c=>({range:c.range,count:t.filter(x=>c.min===-1/0?x.score<c.max:c.max===1/0?x.score>c.min:x.score>=c.min&&x.score<=c.max).length})),l=e.total>0?(e.positive/e.total*100).toFixed(1):0,u=e.total>0?(e.neutral/e.total*100).toFixed(1):0,h=e.total>0?(e.negative/e.total*100).toFixed(1):0;return r.jsxs("div",{className:"card",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-6",children:"Sentiment Analysis"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-6",children:[r.jsxs("div",{onClick:()=>s("positive"),className:"bg-green-50 dark:bg-green-950 hover:bg-green-100 dark:hover:bg-green-900 rounded-lg p-4 text-center transition-all duration-200 transform hover:scale-105 hover:shadow-md cursor-pointer",children:[r.jsx(Jt,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),r.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:[l,"%"]}),r.jsxs("p",{className:"text-xs text-green-600 dark:text-green-500",children:["Positive (",e.positive,")"]}),r.jsx("div",{className:"mt-2 bg-green-200 dark:bg-green-800 rounded-full h-1.5 overflow-hidden",children:r.jsx("div",{className:"bg-green-600 dark:bg-green-400 h-full transition-all duration-1000 ease-out",style:{width:`${l}%`}})})]}),r.jsxs("div",{onClick:()=>s("neutral"),className:"bg-amber-50 dark:bg-amber-950 hover:bg-amber-100 dark:hover:bg-amber-900 rounded-lg p-4 text-center transition-all duration-200 transform hover:scale-105 hover:shadow-md cursor-pointer",children:[r.jsx(Yt,{className:"w-6 h-6 text-amber-600 mx-auto mb-2"}),r.jsxs("p",{className:"text-2xl font-bold text-amber-700 dark:text-amber-400",children:[u,"%"]}),r.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-500",children:["Neutral (",e.neutral,")"]}),r.jsx("div",{className:"mt-2 bg-amber-200 dark:bg-amber-800 rounded-full h-1.5 overflow-hidden",children:r.jsx("div",{className:"bg-amber-600 dark:bg-amber-400 h-full transition-all duration-1000 ease-out",style:{width:`${u}%`}})})]}),r.jsxs("div",{onClick:()=>s("negative"),className:"bg-red-50 dark:bg-red-950 hover:bg-red-100 dark:hover:bg-red-900 rounded-lg p-4 text-center transition-all duration-200 transform hover:scale-105 hover:shadow-md cursor-pointer",children:[r.jsx(Vt,{className:"w-6 h-6 text-red-600 mx-auto mb-2"}),r.jsxs("p",{className:"text-2xl font-bold text-red-700 dark:text-red-400",children:[h,"%"]}),r.jsxs("p",{className:"text-xs text-red-600 dark:text-red-500",children:["Negative (",e.negative,")"]}),r.jsx("div",{className:"mt-2 bg-red-200 dark:bg-red-800 rounded-full h-1.5 overflow-hidden",children:r.jsx("div",{className:"bg-red-600 dark:bg-red-400 h-full transition-all duration-1000 ease-out",style:{width:`${h}%`}})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Sentiment Distribution"}),r.jsx(ot,{width:"100%",height:250,children:r.jsxs(Tr,{children:[r.jsx(Or,{data:n,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:3,dataKey:"value",onClick:c=>s(c.name),style:{cursor:"pointer"},children:n.map((c,x)=>r.jsx(it,{fill:c.color},`cell-${x}`))}),r.jsx(lt,{content:r.jsx(bn,{})})]})})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Score Distribution"}),r.jsx(ot,{width:"100%",height:250,children:r.jsxs(Dr,{data:i,children:[r.jsx(Pr,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),r.jsx(Mr,{dataKey:"range",tick:{fontSize:11}}),r.jsx(Ir,{tick:{fontSize:11}}),r.jsx(lt,{content:({active:c,payload:x})=>c&&x&&x.length?r.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg px-3 py-2",children:[r.jsxs("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:["Score: ",x[0].payload.range]}),r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[x[0].value," comments"]})]}):null}),r.jsx(Lr,{dataKey:"count",fill:"#ef4444",radius:[4,4,0,0],children:i.map((c,x)=>r.jsx(it,{fill:x<3?Q.negative:x===3?Q.neutral:Q.positive},`bar-${x}`))})]})})]})]}),r.jsx("div",{className:"mt-4 text-center",children:r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Average Sentiment Score:"," ",r.jsx("span",{className:`font-bold ${e.averageScore>0?"text-green-600":e.averageScore<0?"text-red-600":"text-amber-600"}`,children:e.averageScore.toFixed(2)}),r.jsxs("span",{className:"text-gray-400 dark:text-gray-500 ml-1",children:["(based on ",e.total," comments)"]})]})})]})}const Ft={positive:{base:"#22c55e",hover:"#16a34a",glow:"rgba(34, 197, 94, 0.4)"},negative:{base:"#ef4444",hover:"#dc2626",glow:"rgba(239, 68, 68, 0.4)"},neutral:{base:"#f59e0b",hover:"#d97706",glow:"rgba(245, 158, 11, 0.4)"}};function vn({words:e}){const[t,a]=b.useState(null),{addFilter:s}=ae(),n=d=>{s("words",d)},o=b.useMemo(()=>!e||e.length===0?[]:e.filter(d=>d.text&&d.value>0),[e]),i=b.useMemo(()=>o.length===0?1:Math.max(...o.map(d=>d.value)),[o]),l=d=>{const y=d/i;return Math.round(14+y*38)},u=d=>.7+d/i*.3,h=(d,p)=>{const m=d.sentiment||"neutral",y=Ft[m];return p?y.hover:y.base},c=d=>{const p=d.sentiment||"neutral";return Ft[p].glow};if(o.length===0)return r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(ut,{className:"w-5 h-5 text-blue-600"}),r.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Word Cloud"})]}),r.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm text-center py-8",children:"Not enough comment data to generate a word cloud."})]});const x=b.useMemo(()=>{const d={positive:0,negative:0,neutral:0};return o.forEach(p=>{d[p.sentiment||"neutral"]++}),d},[o]);return r.jsxs("div",{className:"card flex flex-col h-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4 shrink-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ut,{className:"w-5 h-5 text-blue-600"}),r.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Word Cloud"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:x.positive})]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:x.neutral})]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),r.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:x.negative})]})]})]}),r.jsx("div",{className:"w-full flex flex-wrap items-center justify-center gap-3 overflow-y-auto py-4 px-2",style:{minHeight:"300px",maxHeight:"400px"},children:o.map((d,p)=>{const m=t===d.text;return r.jsx("span",{className:"inline-block cursor-pointer transition-all duration-300 select-none",onMouseEnter:()=>a(d.text),onMouseLeave:()=>a(null),onClick:()=>n(d.text),style:{fontSize:`${l(d.value)}px`,color:h(d,m),opacity:u(d.value),fontWeight:d.value>i*.5?700:600,lineHeight:1.3,textShadow:m?`0 0 20px ${c(d)}, 0 0 10px ${c(d)}`:"none",transform:m?"scale(1.15)":"scale(1)",animation:`fadeIn 0.5s ease-out ${p*.03}s both`},title:`${d.text}: ${d.value} occurrences (${d.sentiment})`,children:d.text},d.text)})}),r.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500 text-center mt-2 pt-2 border-t border-gray-200 dark:border-gray-800 shrink-0",children:r.jsxs("p",{children:["Top ",o.length," words  Colors indicate sentiment"]})}),r.jsx("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})}function _e(){return r.jsxs("div",{className:"flex gap-3 p-3 rounded-lg animate-pulse",children:[r.jsx("div",{className:"shrink-0",children:r.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-800"})}),r.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-800 rounded w-24"}),r.jsx("div",{className:"h-5 bg-gray-200 dark:bg-gray-800 rounded w-16"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-800 rounded w-full"}),r.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-800 rounded w-5/6"}),r.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-800 rounded w-4/6"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-800 rounded w-12"}),r.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-800 rounded w-16"}),r.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-800 rounded w-20"})]})]})]})}function kn({label:e}){const t={positive:{icon:Jt,bg:"bg-green-50",text:"text-green-700",border:"border-green-200"},neutral:{icon:Yt,bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-200"},negative:{icon:Vt,bg:"bg-red-50",text:"text-red-700",border:"border-red-200"}},a=t[e]||t.neutral,s=a.icon;return r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${a.bg} ${a.text} border ${a.border}`,children:[r.jsx(s,{className:"w-3 h-3"}),e]})}const _t=10;function jn({comments:e}){const{filteredComments:t,hasActiveFilters:a}=ae(),[s,n]=b.useState(_t),[o,i]=b.useState(!1),l=a?t:e;if(!l||l.length===0)return r.jsxs("div",{className:"card",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Top Comments"}),r.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm text-center py-8",children:"No comments available."})]});const u=[...l].sort((p,m)=>m.likeCount-p.likeCount),h=u.slice(0,s),c=s<u.length,x=b.useCallback(()=>{o||!c||(i(!0),setTimeout(()=>{n(p=>Math.min(p+_t,u.length)),i(!1)},300))},[o,c,u.length]),d=at(x,c,o);return r.jsxs("div",{className:"card flex flex-col h-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4 shrink-0",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Top Comments"}),r.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:[u.length," comments sorted by likes"]})]}),r.jsxs("div",{className:"space-y-4 pr-2 overflow-y-auto",style:{maxHeight:"600px"},children:[h.map((p,m)=>{var y,f;return r.jsxs("div",{className:"flex gap-3 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[r.jsx("div",{className:"shrink-0",children:p.authorImage?r.jsx("img",{src:p.authorImage,alt:p.author,className:"w-8 h-8 rounded-full"}):r.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-xs font-bold text-gray-500 dark:text-gray-400",children:((f=(y=p.author)==null?void 0:y[0])==null?void 0:f.toUpperCase())||"?"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:p.author}),r.jsx(kn,{label:p.label})]}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 whitespace-pre-line line-clamp-3",children:p.text}),r.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[r.jsxs("span",{className:"flex items-center gap-1 text-xs text-gray-400 dark:text-gray-500",children:[r.jsx(Ce,{className:"w-3 h-3"}),p.likeCount]}),r.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:["Score: ",p.score]}),p.publishedAt&&r.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:new Date(p.publishedAt).toLocaleDateString()})]})]})]},m)}),o&&r.jsxs(r.Fragment,{children:[r.jsx(_e,{}),r.jsx(_e,{}),r.jsx(_e,{})]})]}),c&&r.jsx("div",{ref:d,className:"h-4"})]})}const $t={people:{icon:os,label:"People",color:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-950",hoverBg:"hover:bg-blue-100 dark:hover:bg-blue-900",border:"border-blue-200 dark:border-blue-800",glow:"rgba(59, 130, 246, 0.4)"},places:{icon:Qr,label:"Places",color:"text-green-600",bg:"bg-green-50 dark:bg-green-950",hoverBg:"hover:bg-green-100 dark:hover:bg-green-900",border:"border-green-200 dark:border-green-800",glow:"rgba(34, 197, 94, 0.4)"},organizations:{icon:Yr,label:"Organizations",color:"text-purple-600",bg:"bg-purple-50 dark:bg-purple-950",hoverBg:"hover:bg-purple-100 dark:hover:bg-purple-900",border:"border-purple-200 dark:border-purple-800",glow:"rgba(168, 85, 247, 0.4)"}};function Nn({entities:e}){const[t,a]=b.useState("people"),[s,n]=b.useState(null),{addFilter:o}=ae(),i=m=>{o("entities",m)},l=b.useMemo(()=>e.people.length+e.places.length+e.organizations.length,[e]),u=b.useMemo(()=>{const m=e[t]||[];return m.length===0?1:Math.max(...m.map(y=>y.count))},[e,t]),h=m=>{const w=m/u;return Math.round(14+w*22)},c=m=>.7+m/u*.3;if(l===0)return r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(mt,{className:"w-5 h-5 text-purple-600"}),r.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Named Entities"})]}),r.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm text-center py-8",children:"No named entities found in comments."})]});const x=e[t]||[],d=$t[t],p=d.icon;return r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mt,{className:"w-5 h-5 text-purple-600"}),r.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Named Entities"})]}),r.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:[l," entities found"]})]}),r.jsx("div",{className:"flex gap-1 mb-4 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg",children:Object.entries($t).map(([m,y])=>{const f=y.icon,w=e[m].length;return r.jsxs("button",{onClick:()=>a(m),className:`flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-all flex-1 justify-center ${t===m?"bg-white dark:bg-gray-700 shadow-sm "+y.color:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[r.jsx(f,{className:"w-4 h-4"}),r.jsx("span",{children:y.label}),r.jsxs("span",{className:"text-xs opacity-75",children:["(",w,")"]})]},m)})}),x.length>0?r.jsx("div",{className:"min-h-[250px] max-h-[350px] overflow-y-auto",children:r.jsx("div",{className:"flex flex-wrap items-center justify-center gap-3 py-4 px-2",children:x.map((m,y)=>{const f=s===m.name;return r.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full border cursor-pointer transition-all duration-300 select-none ${d.bg} ${d.border} ${d.hoverBg}`,onMouseEnter:()=>n(m.name),onMouseLeave:()=>n(null),onClick:()=>i(m.name),style:{fontSize:`${h(m.count)}px`,opacity:c(m.count),fontWeight:m.count>u*.5?600:500,transform:f?"scale(1.1)":"scale(1)",boxShadow:f?`0 0 20px ${d.glow}, 0 4px 6px rgba(0,0,0,0.1)`:"none",animation:`fadeIn 0.4s ease-out ${y*.05}s both`},title:`${m.name}: mentioned ${m.count} time${m.count!==1?"s":""}`,children:[r.jsx(p,{className:`w-3 h-3 ${d.color}`}),r.jsx("span",{className:d.color,children:m.name}),r.jsx("span",{className:`text-xs font-semibold ${d.color} opacity-75`,children:m.count})]},m.name)})})}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(p,{className:`w-12 h-12 ${d.color} mx-auto mb-2 opacity-50`}),r.jsxs("p",{className:"text-gray-400 dark:text-gray-500 text-sm",children:["No ",d.label.toLowerCase()," found"]})]}),r.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500 text-center mt-3 pt-3 border-t border-gray-200 dark:border-gray-800",children:r.jsx("p",{children:"Entities extracted from comments  Size indicates frequency"})}),r.jsx("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})}function Sn({tags:e,video:t}){const[a,s]=b.useState(null),{addFilter:n}=ae(),o=d=>{n("tags",d)},i=b.useMemo(()=>!e||e.length===0?1:Math.max(...e.map(d=>d.value)),[e]),l=d=>{const y=d/i;return Math.round(13+y*27)},u=d=>.75+d/i*.25,h=(d,p)=>{const m=d/i;return p?m>.7?"#7c3aed":m>.4?"#8b5cf6":"#a78bfa":m>.7?"#8b5cf6":m>.4?"#a78bfa":"#c4b5fd"},c=d=>{const p=d/i;return p>.7?"rgba(139, 92, 246, 0.5)":p>.4?"rgba(167, 139, 246, 0.4)":"rgba(196, 181, 253, 0.3)"},x=b.useMemo(()=>e.slice(0,5),[e]);return!e||e.length===0?r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Me,{className:"w-5 h-5 text-purple-600"}),r.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Tags & Topics"})]}),r.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm text-center py-8",children:"No tags found in video or comments."})]}):r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Me,{className:"w-5 h-5 text-purple-600"}),r.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Tags & Topics"})]}),r.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:[e.length," tags found"]})]}),r.jsxs("div",{className:"mb-4 p-3 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-950 dark:to-blue-950 rounded-lg border border-purple-100 dark:border-purple-900",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ze,{className:"w-4 h-4 text-purple-600"}),r.jsx("span",{className:"text-xs font-semibold text-purple-700 dark:text-purple-400",children:"Top Tags"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:x.map((d,p)=>r.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-white dark:bg-gray-800 rounded-full text-xs font-medium text-purple-700 dark:text-purple-300 border border-purple-200 dark:border-purple-700 shadow-sm",children:[r.jsxs("span",{className:"text-purple-400 dark:text-purple-500",children:["#",p+1]}),d.text,r.jsx("span",{className:"text-purple-500 dark:text-purple-400 font-semibold",children:d.value})]},d.text))})]}),r.jsx("div",{className:"min-h-[280px] max-h-[380px] overflow-y-auto",children:r.jsx("div",{className:"flex flex-wrap items-center justify-center gap-3 py-4 px-2",children:e.map((d,p)=>{const m=a===d.text;return r.jsxs("span",{className:"inline-flex items-center gap-1 cursor-pointer transition-all duration-300 select-none",onMouseEnter:()=>s(d.text),onMouseLeave:()=>s(null),onClick:()=>o(d.text),style:{fontSize:`${l(d.value)}px`,color:h(d.value,m),opacity:u(d.value),fontWeight:d.value>i*.5?700:600,lineHeight:1.4,textShadow:m?`0 0 20px ${c(d.value)}, 0 0 10px ${c(d.value)}`:"none",transform:m?"scale(1.15)":"scale(1)",animation:`fadeInTag 0.5s ease-out ${p*.04}s both`},title:`#${d.text}: ${d.value} mentions`,children:[r.jsx(Me,{className:"w-3 h-3 opacity-60"}),d.text]},d.text)})})}),r.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500 text-center mt-3 pt-3 border-t border-gray-200 dark:border-gray-800",children:r.jsxs("div",{className:"flex items-center justify-center gap-1",children:[r.jsx(ss,{className:"w-3 h-3"}),r.jsx("p",{children:"Tags from video metadata, hashtags, and comment analysis"})]})}),r.jsx("style",{children:`
        @keyframes fadeInTag {
          from {
            opacity: 0;
            transform: translateY(15px) scale(0.9);
          }
          to {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }
      `})]})}function Cn(){const{filters:e,removeFilter:t,clearFilters:a,hasActiveFilters:s,stats:n}=ae();if(!s)return null;const i=(()=>{const l=[];return e.sentiment.forEach(u=>{l.push({type:"sentiment",value:u,label:u.charAt(0).toUpperCase()+u.slice(1),color:u==="positive"?"bg-green-100 text-green-700 border-green-300 dark:bg-green-950 dark:text-green-400 dark:border-green-800":u==="negative"?"bg-red-100 text-red-700 border-red-300 dark:bg-red-950 dark:text-red-400 dark:border-red-800":"bg-amber-100 text-amber-700 border-amber-300 dark:bg-amber-950 dark:text-amber-400 dark:border-amber-800"})}),e.words.forEach(u=>{l.push({type:"words",value:u,label:`Word: "${u}"`,color:"bg-blue-100 text-blue-700 border-blue-300 dark:bg-blue-950 dark:text-blue-400 dark:border-blue-800"})}),e.entities.forEach(u=>{l.push({type:"entities",value:u,label:`Entity: "${u}"`,color:"bg-purple-100 text-purple-700 border-purple-300 dark:bg-purple-950 dark:text-purple-400 dark:border-purple-800"})}),e.tags.forEach(u=>{l.push({type:"tags",value:u,label:`Tag: "${u}"`,color:"bg-indigo-100 text-indigo-700 border-indigo-300 dark:bg-indigo-950 dark:text-indigo-400 dark:border-indigo-800"})}),e.scoreRange&&l.push({type:"scoreRange",value:e.scoreRange,label:`Score: ${e.scoreRange.min} to ${e.scoreRange.max}`,color:"bg-gray-100 text-gray-700 border-gray-300 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700"}),l})();return r.jsx("div",{className:"card mb-6",children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Xr,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),r.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Active Filters"}),r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Showing ",n.filtered," of ",n.total," comments"]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((l,u)=>r.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium border ${l.color}`,children:[l.label,r.jsx("button",{onClick:()=>t(l.type,l.value),className:"hover:bg-black/10 dark:hover:bg-white/10 rounded-full p-0.5 transition-colors","aria-label":`Remove ${l.label} filter`,children:r.jsx(Xe,{className:"w-3.5 h-3.5"})})]},`${l.type}-${l.value}-${u}`))})]}),r.jsx("button",{onClick:a,className:"shrink-0 px-3 py-1.5 text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950 rounded-lg transition-colors",children:"Clear All"})]})})}function En({videoId:e}){const[t,a]=b.useState(null),[s,n]=b.useState(null),[o,i]=b.useState([]),[l,u]=b.useState({people:[],places:[],organizations:[]}),[h,c]=b.useState([]),[x,d]=b.useState(!0),[p,m]=b.useState(!1),[y,f]=b.useState(null),[w]=re("yt-comment-count",200),[k,v]=b.useState(0),[N,E]=b.useState(!1),[T,A]=b.useState(!1);b.useEffect(()=>{e&&q()},[e]),b.useEffect(()=>{t&&!x&&U()},[w]);const U=async()=>{if(!(!t||N)){E(!0);try{const R=await Rt(e,w);if(v(R.length),R.length>0){const V=Dt(R);n(V);const L=Pt(R);i(L);const P=Mt(R);u(P);const O=It(t,R);c(O)}else n({results:[],summary:{total:0,positive:0,negative:0,neutral:0,averageScore:0}}),u({people:[],places:[],organizations:[]}),c([])}catch(R){console.error("Error refetching comments:",R)}finally{E(!1)}}},q=async(R=!1)=>{var V,L;d(!0),f(null),A(!1);try{let P=R?null:await dn(e);if(P)a(P),A(!0);else{if(P=await Ba(e),!P){f("Video not found. Please check the video ID or URL."),d(!1);return}a(P),await un(e,P)}d(!1),m(!0);try{let O=R?null:await mn(e,w),M=null;if(O?(A(!0),M=await gn(e)):(O=await Rt(e,w),await hn(e,O,w)),v(O.length),O.length>0)if(M!=null&&M.sentiment&&(M!=null&&M.entities)&&(M!=null&&M.tags)&&(M!=null&&M.words))n(M.sentiment),i(M.words),u(M.entities),c(M.tags);else{const I=Dt(O);n(I);const ne=Pt(O);i(ne);const z=Mt(O);u(z);const oe=It(P,O);c(oe),await xn(e,I,z,oe,ne)}else n({results:[],summary:{total:0,positive:0,negative:0,neutral:0,averageScore:0}}),u({people:[],places:[],organizations:[]}),c([])}catch(O){console.error("Error fetching comments:",O),((V=O.response)==null?void 0:V.status)===403&&n(null)}finally{m(!1)}}catch(P){console.error("Error fetching video:",P),((L=P.response)==null?void 0:L.status)===403?f("API quota exceeded. Please try again later."):f("Failed to fetch video data. Please check your API key and try again."),d(!1)}};return x?r.jsxs("div",{className:"space-y-6",children:[r.jsx(yn,{}),r.jsxs("div",{className:"card animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-800 rounded w-48 mb-6"}),r.jsx("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[1,2,3].map(R=>r.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-4 h-24"},R))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx("div",{className:"h-64 bg-gray-100 dark:bg-gray-800 rounded-lg"}),r.jsx("div",{className:"h-64 bg-gray-100 dark:bg-gray-800 rounded-lg"})]})]})]}):y?r.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[r.jsx(qe,{className:"w-10 h-10 text-red-500 mb-4"}),r.jsx("p",{className:"text-red-600 font-medium",children:y})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx(pn,{video:t}),p?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"card animate-pulse",children:[r.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-800 rounded w-48 mb-6"}),r.jsx("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[1,2,3].map(R=>r.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-4 h-20"},R))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx("div",{className:"h-64 bg-gray-100 dark:bg-gray-800 rounded-lg"}),r.jsx("div",{className:"h-64 bg-gray-100 dark:bg-gray-800 rounded-lg"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"card animate-pulse h-80",children:[r.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-800 rounded w-32 mb-4"}),r.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(R=>r.jsx("div",{className:"h-16 bg-gray-100 dark:bg-gray-800 rounded"},R))})]}),r.jsxs("div",{className:"card animate-pulse h-80",children:[r.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-800 rounded w-32 mb-4"}),r.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(R=>r.jsx("div",{className:"h-16 bg-gray-100 dark:bg-gray-800 rounded"},R))})]})]})]}):s?r.jsx(r.Fragment,{children:s.summary.total>0?r.jsxs(fn,{comments:s.results,children:[r.jsx(Cn,{}),r.jsx(wn,{summary:s.summary,results:s.results}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(Nn,{entities:l}),r.jsx(Sn,{tags:h,video:t})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(vn,{words:o}),r.jsx(jn,{comments:s.results})]})]}):r.jsx("div",{className:"card text-center py-8",children:r.jsx("p",{className:"text-gray-400 dark:text-gray-500",children:"No comments found for this video. Comments may be disabled."})})}):r.jsxs("div",{className:"card text-center py-8",children:[r.jsx(qe,{className:"w-8 h-8 text-amber-500 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Could not load comments. The API quota may be exceeded or comments are disabled."})]})]})}function An(){const{videoId:e}=Sr();return r.jsxs("div",{children:[r.jsxs($e,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors mb-6",children:[r.jsx(Kr,{className:"w-4 h-4"}),"Back to Home"]}),r.jsx(En,{videoId:e})]})}function Rn({videoEntry:e,onDelete:t}){var m,y,f,w;const a=Ne(),[s,n]=b.useState(!1),{id:o,data:i,timestamp:l}=e,{snippet:u,statistics:h}=i,c=k=>{if(!k)return"0";const v=parseInt(k);return v>=1e6?(v/1e6).toFixed(1)+"M":v>=1e3?(v/1e3).toFixed(1)+"K":v.toLocaleString()},x=k=>{const v=Date.now()-k,N=Math.floor(v/(60*1e3)),E=Math.floor(v/(60*60*1e3)),T=Math.floor(v/(24*60*60*1e3));return T>0?`${T}d ago`:E>0?`${E}h ago`:N>0?`${N}m ago`:"just now"},d=()=>{a(`/analytics/${o}`)},p=async k=>{if(k.stopPropagation(),!!confirm(`Delete "${u==null?void 0:u.title}" from history?`)){n(!0);try{await t(o)}catch(v){console.error("Error deleting video:",v),alert("Failed to delete video. Please try again."),n(!1)}}};return r.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl border border-gray-100 dark:border-gray-800 overflow-hidden hover:shadow-lg transition-all duration-200 cursor-pointer group",onClick:d,children:[r.jsxs("div",{className:"relative aspect-video bg-gray-200 dark:bg-gray-800",children:[r.jsx("img",{src:((y=(m=u==null?void 0:u.thumbnails)==null?void 0:m.medium)==null?void 0:y.url)||((w=(f=u==null?void 0:u.thumbnails)==null?void 0:f.default)==null?void 0:w.url),alt:u==null?void 0:u.title,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute top-2 right-2",children:r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-500 text-white text-xs font-semibold rounded shadow-lg",children:[r.jsx(Ht,{className:"w-3 h-3"}),"Cached"]})})]}),r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white line-clamp-2 mb-2 group-hover:text-red-600 dark:group-hover:text-red-400 transition-colors",children:u==null?void 0:u.title}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 truncate",children:u==null?void 0:u.channelTitle}),r.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 dark:text-gray-400 mb-3",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Ye,{className:"w-3.5 h-3.5"}),c(h==null?void 0:h.viewCount)]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Ce,{className:"w-3.5 h-3.5"}),c(h==null?void 0:h.likeCount)]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Je,{className:"w-3.5 h-3.5"}),c(h==null?void 0:h.commentCount)]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100 dark:border-gray-800",children:[r.jsxs("span",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[r.jsx(zt,{className:"w-3.5 h-3.5"}),"Analyzed ",x(l)]}),r.jsx("button",{onClick:p,disabled:s,className:"p-1.5 rounded-lg text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-950 transition-colors disabled:opacity-50",title:"Delete from history",children:r.jsx(Ge,{className:"w-4 h-4"})})]})]})]})}function Tn(){const[e,t]=b.useState([]),[a,s]=b.useState([]),[n,o]=b.useState(!0),[i,l]=b.useState(""),[u,h]=b.useState(!1);b.useEffect(()=>{c()},[]),b.useEffect(()=>{if(i.trim()){const p=i.toLowerCase(),m=e.filter(y=>{var k,v,N,E,T,A;const f=((N=(v=(k=y.data)==null?void 0:k.snippet)==null?void 0:v.title)==null?void 0:N.toLowerCase())||"",w=((A=(T=(E=y.data)==null?void 0:E.snippet)==null?void 0:T.channelTitle)==null?void 0:A.toLowerCase())||"";return f.includes(p)||w.includes(p)});s(m)}else s(e)},[i,e]);const c=async()=>{o(!0);try{const p=await Qa();t(p),s(p)}catch(p){console.error("Error loading videos:",p)}finally{o(!1)}},x=async p=>{try{await en(p),await c()}catch(m){throw console.error("Error deleting video:",m),m}},d=async()=>{if(confirm("Are you sure you want to clear all history? This will delete all cached videos and analysis.")){h(!0);try{await br(),await c()}catch(p){console.error("Error clearing cache:",p),alert("Failed to clear history. Please try again.")}finally{h(!1)}}};return n?r.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[r.jsx(Wt,{className:"w-10 h-10 text-red-600 animate-spin mb-4"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading history..."})]}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ze,{className:"w-6 h-6 text-red-600"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Analysis History"})]}),e.length>0&&r.jsxs("button",{onClick:d,disabled:u,className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950 rounded-lg transition-colors disabled:opacity-50",children:[r.jsx(Ge,{className:"w-4 h-4"}),u?"Clearing...":"Clear All"]})]}),r.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:[e.length," video",e.length!==1?"s":""," analyzed and cached"]})]}),e.length>0&&r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx(ke,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-gray-500"}),r.jsx("input",{type:"text",value:i,onChange:p=>l(p.target.value),placeholder:"Search by title or channel...",className:"w-full px-4 pl-10 py-3 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 dark:text-gray-200 focus:border-red-500 focus:ring-2 focus:ring-red-200 dark:focus:ring-red-900 outline-none"})]})}),a.length>0?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:a.map(p=>r.jsx(Rn,{videoEntry:p,onDelete:x},p.id))}):e.length>0?r.jsxs("div",{className:"text-center py-16",children:[r.jsx(ke,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),r.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:['No videos found matching "',i,'"']})]}):r.jsxs("div",{className:"text-center py-16",children:[r.jsx(ze,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Analysis History"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6 max-w-md mx-auto",children:"Start analyzing videos to build your history. Analyzed videos are cached for quick access later."})]})]})}function On(){const{darkMode:e,toggleTheme:t}=zr(),a=Ne(),s=(n,o="",i="relevance")=>{a("/",{state:{query:n,categoryId:o,order:i}})};return r.jsx(sn,{darkMode:e,toggleTheme:t,onSearch:s,children:r.jsxs(Cr,{children:[r.jsx(Pe,{path:"/",element:r.jsx(on,{})}),r.jsx(Pe,{path:"/analytics/:videoId",element:r.jsx(An,{})}),r.jsx(Pe,{path:"/history",element:r.jsx(Tn,{})})]})})}Be.createRoot(document.getElementById("root")).render(r.jsx(Er.StrictMode,{children:r.jsx(Ar,{children:r.jsx(On,{})})}));
